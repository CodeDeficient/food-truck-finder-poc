<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Copy/Paste Detector Report</title><link href="styles/tailwind.css" rel="stylesheet"><link href="styles/prism.css" rel="stylesheet"></head><body class="bg-gray-100"><header class="bg-white shadow py-4"><div class="container mx-auto px-4"><h1 class="text-3xl font-semibold text-gray-800">jscpd - copy/paste report</h1></div></header><main class="container mx-auto my-8 p-4 bg-white shadow rounded"><section class="mb-8" id="dashboard"><h2 class="text-2xl font-semibold text-gray-700 mb-4">Dashboard</h2><div class="grid grid-cols-4 gap-4"><div class="bg-blue-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-blue-800 mb-2">Total Files</h3><span class="text-4xl font-bold text-blue-800">674</span></div><div class="bg-green-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-green-800 mb-2">Total Lines of Code</h3><span class="text-4xl font-bold text-green-800">71550</span></div><div class="bg-yellow-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-yellow-800 mb-2">Number of Clones</h3><span class="text-4xl font-bold text-yellow-800">160</span></div><div class="bg-red-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-red-800 mb-2">Duplicated Lines</h3><span class="text-4xl font-bold text-red-800">2884 (4.03%)</span></div></div></section><section class="mb-8" id="formats"><h2 class="text-2xl font-semibold text-gray-700 mb-4">Formats with Duplications</h2><table class="w-full table-auto"><thead><tr class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal"><th class="py-3 px-6 text-left">Format</th><th class="py-3 px-6 text-left">Files</th><th class="py-3 px-6 text-left">Lines</th><th class="py-3 px-6 text-left">Clones</th><th class="py-3 px-6 text-left">Duplicated Lines</th><th class="py-3 px-6 text-left">Duplicated Tokens</th></tr></thead><tbody><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#typescript-clones">typescript</a></td><td class="py-3 px-6">137</td><td class="py-3 px-6">21205</td><td class="py-3 px-6">26</td><td class="py-3 px-6">307</td><td class="py-3 px-6">3217</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#javascript-clones">javascript</a></td><td class="py-3 px-6">308</td><td class="py-3 px-6">31070</td><td class="py-3 px-6">121</td><td class="py-3 px-6">2181</td><td class="py-3 px-6">20490</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#tsx-clones">tsx</a></td><td class="py-3 px-6">183</td><td class="py-3 px-6">15159</td><td class="py-3 px-6">12</td><td class="py-3 px-6">169</td><td class="py-3 px-6">1252</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#css-clones">css</a></td><td class="py-3 px-6">4</td><td class="py-3 px-6">654</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#json-clones">json</a></td><td class="py-3 px-6">19</td><td class="py-3 px-6">1098</td><td class="py-3 px-6">1</td><td class="py-3 px-6">227</td><td class="py-3 px-6">1474</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#bash-clones">bash</a></td><td class="py-3 px-6">6</td><td class="py-3 px-6">612</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#markup-clones">markup</a></td><td class="py-3 px-6">3</td><td class="py-3 px-6">225</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#powershell-clones">powershell</a></td><td class="py-3 px-6">8</td><td class="py-3 px-6">450</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#sql-clones">sql</a></td><td class="py-3 px-6">4</td><td class="py-3 px-6">638</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#markdown-clones">markdown</a></td><td class="py-3 px-6">2</td><td class="py-3 px-6">439</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td></tr></tbody></table></section><section class="mb-8" id="txt-clones"><a name="typescript-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">typescript</h2><div class="divide-y divide-gray-200 border-b-2"><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/app/api/admin/realtime-events/route.ts (Line 41:30 - Line 54:2), C:/AI/food-truck-finder-poc/app/api/admin/realtime-events/route.ts (Line 17:29 - Line 30:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn1" onclick="toggleCodeBlock('cloneGroup1', 'expandBtn1', 'collapseBtn1')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn1" onclick="toggleCodeBlock('cloneGroup1', 'expandBtn1', 'collapseBtn1')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup1"><code class="language-typescript text-sm text-gray-800">, error);
    return new Response(
      JSON.stringify({
        success: false,
        error: 'Internal server error',
        details: error instanceof Error ? error.message : 'Unknown error',
      }),
      {
        status: 500,
        headers: { 'Content-Type': 'application/json' },
      },
    );
  }
}</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/app/api/trucks/route.ts (Line 110:2 - Line 118:2), C:/AI/food-truck-finder-poc/lib/api/test-integration/helpers.ts (Line 106:2 - Line 114:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn3" onclick="toggleCodeBlock('cloneGroup3', 'expandBtn3', 'collapseBtn3')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn3" onclick="toggleCodeBlock('cloneGroup3', 'expandBtn3', 'collapseBtn3')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup3"><code class="language-typescript text-sm text-gray-800">{
      monday: { closed: true },
      tuesday: { closed: true },
      wednesday: { closed: true },
      thursday: { closed: true },
      friday: { closed: true },
      saturday: { closed: true },
      sunday: { closed: true },
    })</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/app/api/trucks/route.ts (Line 170:29 - Line 179:2), C:/AI/food-truck-finder-poc/app/api/trucks/route.ts (Line 152:29 - Line 161:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn4" onclick="toggleCodeBlock('cloneGroup4', 'expandBtn4', 'collapseBtn4')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn4" onclick="toggleCodeBlock('cloneGroup4', 'expandBtn4', 'collapseBtn4')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup4"><code class="language-typescript text-sm text-gray-800">, error);
    if (error instanceof z.ZodError) {
      return NextResponse.json({ error: error.errors }, { status: 400 });
    }
    return NextResponse.json(
      { error: error instanceof Error ? error.message : String(error) },
      { status: 500 },
    );
  }
}</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/app/api/autonomous-discovery/route.ts (Line 20:47 - Line 42:2), C:/AI/food-truck-finder-poc/app/api/enhanced-pipeline/route.ts (Line 21:62 - Line 43:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn5" onclick="toggleCodeBlock('cloneGroup5', 'expandBtn5', 'collapseBtn5')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn5" onclick="toggleCodeBlock('cloneGroup5', 'expandBtn5', 'collapseBtn5')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup5"><code class="language-typescript text-sm text-gray-800">,
        },
      },
    },
    { status: 410 },
  ); // 410 Gone - Resource no longer available
}

export function GET() {
  return NextResponse.json(
    {
      status: 'DEPRECATED',
      message: 'This endpoint has been consolidated into /api/pipeline',
      migration: {
        newEndpoint: '/api/pipeline',
        documentation: 'See /api/pipeline for current API documentation',
        deprecationDate: '2024-12-09',
        removalDate: '2025-01-01',
      },
    },
    { status: 410 },
  );
}</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/utils/foodTruckHelpers.ts (Line 277:2 - Line 282:6), C:/AI/food-truck-finder-poc/lib/api/search/filters.ts (Line 76:6 - Line 81:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn10" onclick="toggleCodeBlock('cloneGroup10', 'expandBtn10', 'collapseBtn10')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn10" onclick="toggleCodeBlock('cloneGroup10', 'expandBtn10', 'collapseBtn10')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup10"><code class="language-typescript text-sm text-gray-800">;
    const openTime = Number.parseInt(hours.open.replace(':', ''), 10);
    const closeTime = Number.parseInt(hours.close.replace(':', ''), 10);

    return currentTime &gt;= openTime &amp;&amp; currentTime &lt;= closeTime;
  } catch</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/utils/apiHelpers.ts (Line 6:2 - Line 15:7), C:/AI/food-truck-finder-poc/app/api/trucks/route.ts (Line 153:2 - Line 161:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn12" onclick="toggleCodeBlock('cloneGroup12', 'expandBtn12', 'collapseBtn12')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn12" onclick="toggleCodeBlock('cloneGroup12', 'expandBtn12', 'collapseBtn12')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup12"><code class="language-typescript text-sm text-gray-800">ZodError) {
    return NextResponse.json({ error: error.errors }, { status: 400 });
  }
  return NextResponse.json(
    { error: error instanceof Error ? error.message : String(error) },
    { status: 500 },
  );
}

export</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/schemas/truck.ts (Line 74:2 - Line 80:2), C:/AI/food-truck-finder-poc/app/api/trucks/route.ts (Line 127:2 - Line 135:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn13" onclick="toggleCodeBlock('cloneGroup13', 'expandBtn13', 'collapseBtn13')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn13" onclick="toggleCodeBlock('cloneGroup13', 'expandBtn13', 'collapseBtn13')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup13"><code class="language-typescript text-sm text-gray-800">z.object({
  instagram: z.string().optional(),
  facebook: z.string().optional(),
  twitter: z.string().optional(),
  tiktok: z.string().optional(),
  yelp: z.string().optional(),
});</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/schemas/truck.ts (Line 83:2 - Line 90:2), C:/AI/food-truck-finder-poc/app/api/trucks/route.ts (Line 64:7 - Line 71:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn14" onclick="toggleCodeBlock('cloneGroup14', 'expandBtn14', 'collapseBtn14')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn14" onclick="toggleCodeBlock('cloneGroup14', 'expandBtn14', 'collapseBtn14')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup14"><code class="language-typescript text-sm text-gray-800">z.object({
  address: z.string().optional(),
  city: z.string().optional(),
  state: z.string().optional(),
  zip_code: z.string().optional(),
  lat: z.number().optional(),
  lng: z.number().optional(),
  timestamp: z.string(),</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/gemini/responseParser.ts (Line 64:2 - Line 74:2), C:/AI/food-truck-finder-poc/lib/gemini/responseParserWithYamlBackup.ts (Line 70:9 - Line 81:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn16" onclick="toggleCodeBlock('cloneGroup16', 'expandBtn16', 'collapseBtn16')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn16" onclick="toggleCodeBlock('cloneGroup16', 'expandBtn16', 'collapseBtn16')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup16"><code class="language-typescript text-sm text-gray-800">;
          }
        }
      }

      // If all else fails, log the problematic text for debugging
      console.error(&quot;Problematic text:&quot;, cleanedText);
      console.error(&quot;Original raw response text:&quot;, text);
      throw new Error(`Failed to parse Gemini response: ${jsonError instanceof Error ? jsonError.message : String(jsonError)}. Text length: ${cleanedText.length}`);
    }
  },</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/data-quality/duplicatePrevention.ts (Line 289:3 - Line 305:6), C:/AI/food-truck-finder-poc/lib/performance/databaseCache.ts (Line 276:7 - Line 290:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn21" onclick="toggleCodeBlock('cloneGroup21', 'expandBtn21', 'collapseBtn21')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn21" onclick="toggleCodeBlock('cloneGroup21', 'expandBtn21', 'collapseBtn21')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup21"><code class="language-typescript text-sm text-gray-800">): number {
    const R = 6371; // Earth's radius in kilometers
    const dLat = ((lat2 - lat1) * Math.PI) / 180;
    const dLng = ((lng2 - lng1) * Math.PI) / 180;
    const a =
      Math.sin(dLat / 2) * Math.sin(dLat / 2) +
      Math.cos((lat1 * Math.PI) / 180) *
        Math.cos((lat2 * Math.PI) / 180) *
        Math.sin(dLng / 2) *
        Math.sin(dLng / 2);
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    return R * c;
  }

  /**
   * Calculate contact similarity
   */</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/hooks/realtime/setupEventSourceListeners.ts (Line 2:34 - Line 23:10), C:/AI/food-truck-finder-poc/lib/api/admin/realtime-events/handlers.ts (Line 9:13 - Line 43:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn23" onclick="toggleCodeBlock('cloneGroup23', 'expandBtn23', 'collapseBtn23')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn23" onclick="toggleCodeBlock('cloneGroup23', 'expandBtn23', 'collapseBtn23')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup23"><code class="language-typescript text-sm text-gray-800">;

interface RealtimeMetrics {
  scrapingJobs: {
    active: number;
    completed: number;
    failed: number;
    pending: number;
  };
  dataQuality: {
    averageScore: number;
    totalTrucks: number;
    recentChanges: number;
  };
  systemHealth: {
    status: 'healthy' | 'warning' | 'error';
    uptime: number;
    lastUpdate: string;
  };
}

interface</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/hooks/realtime/setupEventSourceListeners.ts (Line 24:3 - Line 30:10), C:/AI/food-truck-finder-poc/hooks/realtime/useConnectionManagement.ts (Line 19:3 - Line 41:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn24" onclick="toggleCodeBlock('cloneGroup24', 'expandBtn24', 'collapseBtn24')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn24" onclick="toggleCodeBlock('cloneGroup24', 'expandBtn24', 'collapseBtn24')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup24"><code class="language-typescript text-sm text-gray-800">setIsConnected: (connected: boolean) =&gt; void;
  setIsConnecting: (connecting: boolean) =&gt; void;
  setConnectionError: (error: string | undefined) =&gt; void;
  setConnectionAttempts: (attempts: number | ((prev: number) =&gt; number)) =&gt; void;
}

interface</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/hooks/realtime/setupEventSourceListeners.ts (Line 155:5 - Line 165:9), C:/AI/food-truck-finder-poc/hooks/realtime/useConnectionManagement.ts (Line 15:8 - Line 41:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn25" onclick="toggleCodeBlock('cloneGroup25', 'expandBtn25', 'collapseBtn25')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn25" onclick="toggleCodeBlock('cloneGroup25', 'expandBtn25', 'collapseBtn25')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup25"><code class="language-typescript text-sm text-gray-800">;
  setLastEventTime: React.Dispatch&lt;React.SetStateAction&lt;Date | undefined&gt;&gt;;
  setLatestMetrics: React.Dispatch&lt;React.SetStateAction&lt;RealtimeMetrics | undefined&gt;&gt;;
  setRecentEvents: React.Dispatch&lt;React.SetStateAction&lt;RealtimeEvent[]&gt;&gt;;
  setIsConnected: (connected: boolean) =&gt; void;
  setIsConnecting: (connecting: boolean) =&gt; void;
  setConnectionError: (error: string | undefined) =&gt; void;
  setConnectionAttempts: (attempts: number | ((prev: number) =&gt; number)) =&gt; void;
}

function</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/hooks/realtime/createEventSourceConnection.ts (Line 1:2 - Line 21:7), C:/AI/food-truck-finder-poc/hooks/realtime/setupEventSourceListeners.ts (Line 1:2 - Line 43:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn26" onclick="toggleCodeBlock('cloneGroup26', 'expandBtn26', 'collapseBtn26')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn26" onclick="toggleCodeBlock('cloneGroup26', 'expandBtn26', 'collapseBtn26')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup26"><code class="language-typescript text-sm text-gray-800">React from 'react';
import type { RealtimeEvent } from '../useRealtimeAdminEvents.types';
interface RealtimeMetrics {
  scrapingJobs: {
    active: number;
    completed: number;
    failed: number;
    pending: number;
  };
  dataQuality: {
    averageScore: number;
    totalTrucks: number;
    recentChanges: number;
  };
  systemHealth: {
    status: 'healthy' | 'warning' | 'error';
    uptime: number;
    lastUpdate: string;
  };
}
import</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/hooks/realtime/createEventSourceConnection.ts (Line 138:5 - Line 147:16), C:/AI/food-truck-finder-poc/hooks/realtime/setupEventSourceListeners.ts (Line 154:2 - Line 23:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn27" onclick="toggleCodeBlock('cloneGroup27', 'expandBtn27', 'collapseBtn27')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn27" onclick="toggleCodeBlock('cloneGroup27', 'expandBtn27', 'collapseBtn27')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup27"><code class="language-typescript text-sm text-gray-800">;
  connect: () =&gt; void;
  setLastEventTime: React.Dispatch&lt;React.SetStateAction&lt;Date | undefined&gt;&gt;;
  setLatestMetrics: React.Dispatch&lt;React.SetStateAction&lt;RealtimeMetrics | undefined&gt;&gt;;
  setRecentEvents: React.Dispatch&lt;React.SetStateAction&lt;RealtimeEvent[]&gt;&gt;;
  setIsConnected: (connected: boolean) =&gt; void;
  setIsConnecting: (connecting: boolean) =&gt; void;
  setConnectionError: (error: string | undefined) =&gt; void;
  setConnectionAttempts: (attempts: number | ((prev: number) =&gt; number)) =&gt; void;
  connectionState</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/check-db-status.ts (Line 1:1 - Line 17:20), C:/AI/food-truck-finder-poc/scripts/check-stuck-jobs.ts (Line 1:1 - Line 17:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn99" onclick="toggleCodeBlock('cloneGroup99', 'expandBtn99', 'collapseBtn99')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn99" onclick="toggleCodeBlock('cloneGroup99', 'expandBtn99', 'collapseBtn99')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup99"><code class="language-typescript text-sm text-gray-800">import { createClient } from '@supabase/supabase-js';
import * as dotenv from 'dotenv';

// Load environment variables
dotenv.config({ path: '.env.local' });

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !supabaseServiceKey) {
  console.error('Missing required environment variables');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, supabaseServiceKey);

async function checkDatabaseStatus</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/types.ts (Line 69:3 - Line 80:16), C:/AI/food-truck-finder-poc/lib/mappers/uprootedVeganMapper.ts (Line 43:3 - Line 55:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn122" onclick="toggleCodeBlock('cloneGroup122', 'expandBtn122', 'collapseBtn122')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn122" onclick="toggleCodeBlock('cloneGroup122', 'expandBtn122', 'collapseBtn122')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup122"><code class="language-typescript text-sm text-gray-800">scheduled_locations?: {
    address?: string;
    city?: string;
    state?: string;
    zip_code?: string;
    lat?: number;
    lng?: number;
    timestamp: string;
    start_time: string;
    end_time: string;
  }[];
  operating_hours</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/types.ts (Line 112:22 - Line 127:13), C:/AI/food-truck-finder-poc/lib/types.ts (Line 79:2 - Line 94:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn123" onclick="toggleCodeBlock('cloneGroup123', 'expandBtn123', 'collapseBtn123')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn123" onclick="toggleCodeBlock('cloneGroup123', 'expandBtn123', 'collapseBtn123')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup123"><code class="language-typescript text-sm text-gray-800">];
  operating_hours: OperatingHours;
  menu: MenuCategory[];
  contact_info: {
    phone?: string;
    email?: string;
    website?: string;
  };
  social_media: {
    instagram?: string;
    facebook?: string;
    twitter?: string;
    tiktok?: string;
    yelp?: string;
  };
  cuisine_type</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/types.ts (Line 217:2 - Line 236:7), C:/AI/food-truck-finder-poc/lib/api/admin/realtime-events/handlers.ts (Line 12:1 - Line 43:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn124" onclick="toggleCodeBlock('cloneGroup124', 'expandBtn124', 'collapseBtn124')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn124" onclick="toggleCodeBlock('cloneGroup124', 'expandBtn124', 'collapseBtn124')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup124"><code class="language-typescript text-sm text-gray-800">interface RealtimeMetrics {
  scrapingJobs: {
    active: number;
    completed: number;
    failed: number;
    pending: number;
  };
  dataQuality: {
    averageScore: number;
    totalTrucks: number;
    recentChanges: number;
  };
  systemHealth: {
    status: 'healthy' | 'warning' | 'error';
    uptime: number;
    lastUpdate: string;
  };
}

export</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/ScraperEngine.ts (Line 795:8 - Line 801:36), C:/AI/food-truck-finder-poc/lib/ScraperEngine.ts (Line 760:8 - Line 766:32)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn125" onclick="toggleCodeBlock('cloneGroup125', 'expandBtn125', 'collapseBtn125')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn125" onclick="toggleCodeBlock('cloneGroup125', 'expandBtn125', 'collapseBtn125')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup125"><code class="language-typescript text-sm text-gray-800">;

      const response = await this.makeGeminiRequest(prompt);
      this.updateUsageCounters(1, prompt.length + response.length);
      const parsed: unknown = JSON.parse(response);
      if (parsed == undefined || typeof parsed !== 'object') {
        throw new Error('Invalid Gemini sentiment response'</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/firecrawl.ts (Line 235:2 - Line 247:17), C:/AI/food-truck-finder-poc/lib/firecrawl.ts (Line 152:2 - Line 164:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn133" onclick="toggleCodeBlock('cloneGroup133', 'expandBtn133', 'collapseBtn133')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn133" onclick="toggleCodeBlock('cloneGroup133', 'expandBtn133', 'collapseBtn133')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup133"><code class="language-typescript text-sm text-gray-800">,
        }),
      });

      const data: unknown = await response.json();

      if (!response.ok) {
        const errorData = data as { error?: string };
        throw new Error(errorData.error ?? `HTTP ${response.status}`);
      }

      this.setCacheResult(cacheKey, data);
      return data as CrawlJobResponse</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/firecrawl.ts (Line 281:2 - Line 292:20), C:/AI/food-truck-finder-poc/lib/firecrawl.ts (Line 153:2 - Line 164:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn134" onclick="toggleCodeBlock('cloneGroup134', 'expandBtn134', 'collapseBtn134')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn134" onclick="toggleCodeBlock('cloneGroup134', 'expandBtn134', 'collapseBtn134')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup134"><code class="language-typescript text-sm text-gray-800">,
      });

      const data: unknown = await response.json();

      if (!response.ok) {
        const errorData = data as { error?: string };
        throw new Error(errorData.error ?? `HTTP ${response.status}`);
      }

      this.setCacheResult(cacheKey, data);
      return data as CrawlStatusResponse</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/discoveryEngine.ts (Line 376:14 - Line 392:65), C:/AI/food-truck-finder-poc/lib/discoveryEngine.ts (Line 295:13 - Line 311:56)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn137" onclick="toggleCodeBlock('cloneGroup137', 'expandBtn137', 'collapseBtn137')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn137" onclick="toggleCodeBlock('cloneGroup137', 'expandBtn137', 'collapseBtn137')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup137"><code class="language-typescript text-sm text-gray-800">) {
        if (typeof result === 'object' &amp;&amp; result !== null &amp;&amp; 'url' in result) {
          const resultObj = result as { url?: string };
          const resultUrl: string | undefined = resultObj.url;
          if (
            resultUrl != undefined &amp;&amp;
            typeof resultUrl === 'string' &amp;&amp;
            (await this.isFoodTruckUrl(resultUrl))
          ) {
            discoveredUrls.add(resultUrl);
          }
        }
      }
    }
  }

  // Helper method to store discovered URLs from discovery process</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/discoveryEngine.ts (Line 648:2 - Line 656:8), C:/AI/food-truck-finder-poc/lib/discoveryEngine.ts (Line 349:15 - Line 356:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn138" onclick="toggleCodeBlock('cloneGroup138', 'expandBtn138', 'collapseBtn138')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn138" onclick="toggleCodeBlock('cloneGroup138', 'expandBtn138', 'collapseBtn138')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup138"><code class="language-typescript text-sm text-gray-800">);
    } catch (error) {
      console.error(`❌ Location search failed for ${city}:`, error);
      results.errors.push(
        `Location search failed for ${city}: ${error instanceof Error ? error.message : 'Unknown error'}`,
      );
    }

    console</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/discoveryEngine.ts (Line 773:6 - Line 789:8), C:/AI/food-truck-finder-poc/lib/discoveryEngine.ts (Line 415:2 - Line 443:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn139" onclick="toggleCodeBlock('cloneGroup139', 'expandBtn139', 'collapseBtn139')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn139" onclick="toggleCodeBlock('cloneGroup139', 'expandBtn139', 'collapseBtn139')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup139"><code class="language-typescript text-sm text-gray-800">,
        });
        if (stored.isNew === true) {
          results.urls_stored += 1;
        } else {
          results.urls_duplicates += 1;
        }
      } catch (error) {
        console.error(`❌ Failed to store URL ${url}:`, error);
        results.errors.push(
          `Failed to store URL ${url}: ${error instanceof Error ? error.message : 'Unknown error'}`,
        );
      }
    }
  }

  private</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/autoScraper.ts (Line 227:22 - Line 233:3), C:/AI/food-truck-finder-poc/lib/autoScraper.ts (Line 180:27 - Line 186:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn144" onclick="toggleCodeBlock('cloneGroup144', 'expandBtn144', 'collapseBtn144')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn144" onclick="toggleCodeBlock('cloneGroup144', 'expandBtn144', 'collapseBtn144')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup144"><code class="language-typescript text-sm text-gray-800">(
  url: string,
  result: { status: string; details?: string },
  counters: { trucksProcessed: number; newTrucksFound: number },
  errors: Array&lt;{ url: string; details?: string }&gt;,
): Promise&lt;void&gt; {
  if</code></pre></div><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="javascript-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">javascript</h2><div class="divide-y divide-gray-200 border-b-2"><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/api/cron/auto-scrape/handlers.js (Line 64:21 - Line 74:2), C:/AI/food-truck-finder-poc/lib/api/cron/auto-scrape/improvedHandler.js (Line 94:2 - Line 104:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn0" onclick="toggleCodeBlock('cloneGroup0', 'expandBtn0', 'collapseBtn0')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn0" onclick="toggleCodeBlock('cloneGroup0', 'expandBtn0', 'collapseBtn0')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup0"><code class="language-javascript text-sm text-gray-800">(error) {
    console.error('Auto-scraping cron job failed:', error);
    logActivity({
        type: 'cron_job',
        action: 'auto_scrape_failed',
        details: {
            timestamp: new Date().toISOString(),
            error: error instanceof Error ? error.message : 'Unknown error',
        },
    });
}</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/utils/foodTruckHelpers.js (Line 242:2 - Line 247:6), C:/AI/food-truck-finder-poc/lib/api/search/filters.js (Line 60:6 - Line 64:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn11" onclick="toggleCodeBlock('cloneGroup11', 'expandBtn11', 'collapseBtn11')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn11" onclick="toggleCodeBlock('cloneGroup11', 'expandBtn11', 'collapseBtn11')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup11"><code class="language-javascript text-sm text-gray-800">;
        const openTime = Number.parseInt(hours.open.replace(':', ''), 10);
        const closeTime = Number.parseInt(hours.close.replace(':', ''), 10);
        return currentTime &gt;= openTime &amp;&amp; currentTime &lt;= closeTime;
    }
    catch</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/pipeline/pipelineHelpers.js (Line 62:2 - Line 70:2), C:/AI/food-truck-finder-poc/lib/api/test-integration/helpers.js (Line 45:2 - Line 53:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn15" onclick="toggleCodeBlock('cloneGroup15', 'expandBtn15', 'collapseBtn15')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn15" onclick="toggleCodeBlock('cloneGroup15', 'expandBtn15', 'collapseBtn15')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup15"><code class="language-javascript text-sm text-gray-800">{
            monday: { closed: true },
            tuesday: { closed: true },
            wednesday: { closed: true },
            thursday: { closed: true },
            friday: { closed: true },
            saturday: { closed: true },
            sunday: { closed: true },
        };</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/data-quality/duplicatePrevention.js (Line 217:21 - Line 231:8), C:/AI/food-truck-finder-poc/lib/performance/databaseCache.js (Line 206:18 - Line 218:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn22" onclick="toggleCodeBlock('cloneGroup22', 'expandBtn22', 'collapseBtn22')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn22" onclick="toggleCodeBlock('cloneGroup22', 'expandBtn22', 'collapseBtn22')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup22"><code class="language-javascript text-sm text-gray-800">(lat1, lng1, lat2, lng2) {
        const R = 6371; // Earth's radius in kilometers
        const dLat = ((lat2 - lat1) * Math.PI) / 180;
        const dLng = ((lng2 - lng1) * Math.PI) / 180;
        const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +
            Math.cos((lat1 * Math.PI) / 180) *
                Math.cos((lat2 * Math.PI) / 180) *
                Math.sin(dLng / 2) *
                Math.sin(dLng / 2);
        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
        return R * c;
    }
    /**
     * Calculate contact similarity
     */</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/test-oauth-flow.js (Line 40:3 - Line 53:5), C:/AI/food-truck-finder-poc/scripts/verify-oauth-setup.js (Line 58:3 - Line 71:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn31" onclick="toggleCodeBlock('cloneGroup31', 'expandBtn31', 'collapseBtn31')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn31" onclick="toggleCodeBlock('cloneGroup31', 'expandBtn31', 'collapseBtn31')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup31"><code class="language-javascript text-sm text-gray-800">loadEnvironment() {
    const envPath = path.join(process.cwd(), '.env.local');
    if (fs.existsSync(envPath)) {
      const envContent = fs.readFileSync(envPath, 'utf8');
      envContent.split('\n').forEach((line) =&gt; {
        const [key, value] = line.split('=');
        if (key &amp;&amp; value) {
          process.env[key] = value.replace(/&quot;/g, '');
        }
      });
    }
  }

  log(message, type</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/test-name-normalization.js (Line 38:5 - Line 57:4), C:/AI/food-truck-finder-poc/lib/data-quality/duplicatePrevention.js (Line 160:9 - Line 179:61)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn32" onclick="toggleCodeBlock('cloneGroup32', 'expandBtn32', 'collapseBtn32')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn32" onclick="toggleCodeBlock('cloneGroup32', 'expandBtn32', 'collapseBtn32')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup32"><code class="language-javascript text-sm text-gray-800">const isSubstring = normalized1.includes(normalized2) || normalized2.includes(normalized1);
    if (isSubstring &amp;&amp; (normalized1.length &gt; 0 &amp;&amp; normalized2.length &gt; 0)) {
        const minLength = Math.min(normalized1.length, normalized2.length);
        const maxLength = Math.max(normalized1.length, normalized2.length);
        // High similarity for substring matches (0.8 to 0.95 based on length ratio)
        return 0.8 + (0.15 * (minLength / maxLength));
    }
    
    // Calculate Levenshtein distance on normalized strings
    const matrix = [];
    const len1 = normalized1.length;
    const len2 = normalized2.length;
    for (let i = 0; i &lt;= len1; i += 1) {
        matrix[i] = [i];
    }
    for (let j = 0; j &lt;= len2; j += 1) {
        matrix[0][j] = j;
    }
    for (let i = 1; i &lt;= len1; i += 1) {
        for</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/test-name-normalization.js (Line 57:9 - Line 69:48), C:/AI/food-truck-finder-poc/lib/data-quality/duplicatePrevention.js (Line 180:13 - Line 193:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn33" onclick="toggleCodeBlock('cloneGroup33', 'expandBtn33', 'collapseBtn33')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn33" onclick="toggleCodeBlock('cloneGroup33', 'expandBtn33', 'collapseBtn33')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup33"><code class="language-javascript text-sm text-gray-800">for (let j = 1; j &lt;= len2; j += 1) {
            const cost = normalized1[i - 1] === normalized2[j - 1] ? 0 : 1;
            matrix[i][j] = Math.min(matrix[i - 1][j] + 1, // deletion
            matrix[i][j - 1] + 1, // insertion
            matrix[i - 1][j - 1] + cost);
        }
    }
    const distance = matrix[len1][len2];
    const maxLength = Math.max(len1, len2);
    return maxLength === 0 ? 1 : 1 - distance / maxLength;
}

// Test cases for food truck name normalization</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/test-duplicate-prevention.js (Line 9:1 - Line 34:2), C:/AI/food-truck-finder-poc/scripts/test-name-normalization.js (Line 69:1 - Line 95:69)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn34" onclick="toggleCodeBlock('cloneGroup34', 'expandBtn34', 'collapseBtn34')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn34" onclick="toggleCodeBlock('cloneGroup34', 'expandBtn34', 'collapseBtn34')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup34"><code class="language-javascript text-sm text-gray-800">// Test cases for food truck name normalization
const testCases = [
    // Exact matches
    { name1: &quot;Page's Okra Grill&quot;, name2: &quot;Page's Okra Grill&quot;, expected: 1.0 },
    
    // Food truck suffix variations
    { name1: &quot;Page's Okra Grill&quot;, name2: &quot;Page's Okra Grill Food Truck&quot;, expected: 0.9 },
    { name1: &quot;Taco Bell&quot;, name2: &quot;Taco Bell Food Trailer&quot;, expected: 0.9 },
    { name1: &quot;Burger King Mobile&quot;, name2: &quot;Burger King Mobile Kitchen&quot;, expected: 0.9 },
    
    // Case variations
    { name1: &quot;Page's Okra Grill&quot;, name2: &quot;PAGE'S OKRA GRILL&quot;, expected: 1.0 },
    { name1: &quot;Taco Bell&quot;, name2: &quot;taco bell&quot;, expected: 1.0 },
    
    // Punctuation variations
    { name1: &quot;Page's Okra Grill&quot;, name2: &quot;Pages Okra Grill&quot;, expected: 0.9 },
    { name1: &quot;Taco &amp; Burrito&quot;, name2: &quot;Taco and Burrito&quot;, expected: 0.9 },
    
    // Substring matches
    { name1: &quot;Page's Okra Grill Food Truck&quot;, name2: &quot;Page's Okra Grill&quot;, expected: 0.9 },
    { name1: &quot;Taco Bell Express&quot;, name2: &quot;Taco Bell&quot;, expected: 0.9 },
    
    // Different names (should be low similarity)
    { name1: &quot;Page's Okra Grill&quot;, name2: &quot;Taco Bell&quot;, expected: 0.0 },
    { name1: &quot;Burger King&quot;, name2: &quot;Pizza Hut&quot;, expected: 0.0 },
]</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/test-duplicate-prevention.js (Line 51:2 - Line 60:27), C:/AI/food-truck-finder-poc/scripts/test-name-normalization.js (Line 120:2 - Line 129:29)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn35" onclick="toggleCodeBlock('cloneGroup35', 'expandBtn35', 'collapseBtn35')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn35" onclick="toggleCodeBlock('cloneGroup35', 'expandBtn35', 'collapseBtn35')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup35"><code class="language-javascript text-sm text-gray-800">normalizeFoodTruckName(name);
    console.log(`  &quot;${name}&quot; → &quot;${normalized}&quot;`);
});

console.log('\n📊 Similarity Calculation Tests:');
let passed = 0;
let total = testCases.length;

testCases.forEach((test, index) =&gt; {
    const similarity = DuplicatePreventionService</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/test-duplicate-prevention.js (Line 62:5 - Line 71:50), C:/AI/food-truck-finder-poc/scripts/test-name-normalization.js (Line 131:5 - Line 140:39)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn36" onclick="toggleCodeBlock('cloneGroup36', 'expandBtn36', 'collapseBtn36')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn36" onclick="toggleCodeBlock('cloneGroup36', 'expandBtn36', 'collapseBtn36')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup36"><code class="language-javascript text-sm text-gray-800">if (passedTest) passed++;
    
    console.log(
        `  ${index + 1}. &quot;${test.name1}&quot; vs &quot;${test.name2}&quot;: ${similarity.toFixed(2)} ${passedTest ? '✅' : '❌'} (expected ~${test.expected})`
    );
});

console.log(`\n📈 Results: ${passed}/${total} tests passed (${Math.round((passed/total)*100)}%)`);

// Test the full duplicate check with sample data</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/scraper-with-listing-extraction.cjs (Line 140:2 - Line 145:14), C:/AI/food-truck-finder-poc/scripts/scraper-with-listing-extraction.cjs (Line 91:2 - Line 96:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn37" onclick="toggleCodeBlock('cloneGroup37', 'expandBtn37', 'collapseBtn37')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn37" onclick="toggleCodeBlock('cloneGroup37', 'expandBtn37', 'collapseBtn37')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup37"><code class="language-javascript text-sm text-gray-800">= await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${process.env.GEMINI_API_KEY || process.env.GOOGLE_API_KEY}`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            contents: [{
              parts: [{ text: listingPrompt</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/reset-jobs.js (Line 7:1 - Line 23:6), C:/AI/food-truck-finder-poc/scripts/safe-convert-discovered-to-jobs.js (Line 8:1 - Line 24:61)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn38" onclick="toggleCodeBlock('cloneGroup38', 'expandBtn38', 'collapseBtn38')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn38" onclick="toggleCodeBlock('cloneGroup38', 'expandBtn38', 'collapseBtn38')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup38"><code class="language-javascript text-sm text-gray-800">import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

import { createClient } from '@supabase/supabase-js';

// Initialize Supabase with environment variables
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials! Need both NEXT_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, serviceRoleKey);

async</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/reset-all-running-jobs.cjs (Line 48:3 - Line 57:27), C:/AI/food-truck-finder-poc/scripts/test-scrape.cjs (Line 34:3 - Line 43:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn39" onclick="toggleCodeBlock('cloneGroup39', 'expandBtn39', 'collapseBtn39')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn39" onclick="toggleCodeBlock('cloneGroup39', 'expandBtn39', 'collapseBtn39')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup39"><code class="language-javascript text-sm text-gray-800">const { data: jobStats } = await supabase
    .from('scraping_jobs')
    .select('status');
  
  const stats = jobStats?.reduce((acc, job) =&gt; {
    acc[job.status] = (acc[job.status] || 0) + 1;
    return acc;
  }, {}) || {};

  console.log('\n📊 Current job status:'</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/process-one-job.cjs (Line 34:26 - Line 40:8), C:/AI/food-truck-finder-poc/scripts/reset-all-running-jobs.cjs (Line 25:27 - Line 31:24)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn40" onclick="toggleCodeBlock('cloneGroup40', 'expandBtn40', 'collapseBtn40')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn40" onclick="toggleCodeBlock('cloneGroup40', 'expandBtn40', 'collapseBtn40')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup40"><code class="language-javascript text-sm text-gray-800">);
      runningJobs.forEach(job =&gt; {
        const age = Math.floor((Date.now() - new Date(job.created_at).getTime()) / (1000 * 60 * 60));
        console.log(`- ${job.target_url} (${age} hours old)`);
      });
      
      console</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/process-one-job.cjs (Line 60:5 - Line 74:2), C:/AI/food-truck-finder-poc/scripts/scraper-with-listing-extraction.cjs (Line 50:7 - Line 64:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn41" onclick="toggleCodeBlock('cloneGroup41', 'expandBtn41', 'collapseBtn41')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn41" onclick="toggleCodeBlock('cloneGroup41', 'expandBtn41', 'collapseBtn41')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup41"><code class="language-javascript text-sm text-gray-800">const scrapeResponse = await fetch('https://api.firecrawl.dev/v1/scrape', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${process.env.FIRECRAWL_API_KEY}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        url: job.target_url,
        formats: ['markdown'],
        waitFor: 2000
      })
    });

    if (!scrapeResponse.ok) {
      throw new Error(`Firecrawl error: ${scrapeResponse.status} </code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/process-one-job.cjs (Line 99:42 - Line 116:6), C:/AI/food-truck-finder-poc/scripts/scraper-with-listing-extraction.cjs (Line 89:42 - Line 106:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn42" onclick="toggleCodeBlock('cloneGroup42', 'expandBtn42', 'collapseBtn42')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn42" onclick="toggleCodeBlock('cloneGroup42', 'expandBtn42', 'collapseBtn42')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup42"><code class="language-javascript text-sm text-gray-800">;

    const geminiResponse = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${process.env.GEMINI_API_KEY || process.env.GOOGLE_API_KEY}`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        contents: [{
          parts: [{ text: extractPrompt }]
        }],
        generationConfig: {
          temperature: 0.1,
          maxOutputTokens: 2048
        }
      })
    });

    if (!geminiResponse.ok) {
      const</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/merge-page-trucks.js (Line 7:1 - Line 17:34), C:/AI/food-truck-finder-poc/scripts/safe-convert-discovered-to-jobs.js (Line 8:1 - Line 18:99)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn43" onclick="toggleCodeBlock('cloneGroup43', 'expandBtn43', 'collapseBtn43')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn43" onclick="toggleCodeBlock('cloneGroup43', 'expandBtn43', 'collapseBtn43')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup43"><code class="language-javascript text-sm text-gray-800">import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

import { createClient } from '@supabase/supabase-js';

// Initialize Supabase with environment variables
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials!'</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/local-scraper-simple.cjs (Line 9:5 - Line 19:21), C:/AI/food-truck-finder-poc/lib/utils/geocoding.js (Line 14:9 - Line 22:59)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn44" onclick="toggleCodeBlock('cloneGroup44', 'expandBtn44', 'collapseBtn44')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn44" onclick="toggleCodeBlock('cloneGroup44', 'expandBtn44', 'collapseBtn44')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup44"><code class="language-javascript text-sm text-gray-800">const cleanAddress = address.trim();
    if (!cleanAddress) {
      throw new Error('Empty address provided');
    }

    // Construct search query - add city if not already in address
    const searchQuery = cleanAddress.toLowerCase().includes('charleston') 
      ? cleanAddress 
      : `${cleanAddress}, ${city}`;

    // Use Nominatim API</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/local-scraper-simple.cjs (Line 20:5 - Line 27:6), C:/AI/food-truck-finder-poc/lib/utils/geocoding.js (Line 23:9 - Line 29:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn45" onclick="toggleCodeBlock('cloneGroup45', 'expandBtn45', 'collapseBtn45')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn45" onclick="toggleCodeBlock('cloneGroup45', 'expandBtn45', 'collapseBtn45')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup45"><code class="language-javascript text-sm text-gray-800">const url = new URL('https://nominatim.openstreetmap.org/search');
    url.searchParams.set('q', searchQuery);
    url.searchParams.set('format', 'json');
    url.searchParams.set('limit', '1');
    url.searchParams.set('countrycodes', 'us');
    url.searchParams.set('addressdetails', '1');

    const</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/local-scraper-simple.cjs (Line 104:39 - Line 146:4), C:/AI/food-truck-finder-poc/scripts/scraper-with-listing-extraction.cjs (Line 6:51 - Line 48:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn46" onclick="toggleCodeBlock('cloneGroup46', 'expandBtn46', 'collapseBtn46')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn46" onclick="toggleCodeBlock('cloneGroup46', 'expandBtn46', 'collapseBtn46')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup46"><code class="language-javascript text-sm text-gray-800">);
console.log(`- Batch size: ${BATCH_SIZE} jobs`);
console.log(`- Running every: ${INTERVAL_MINUTES} minutes`);
console.log('\nPress Ctrl+C to stop\n');

async function processBatch() {
  const startTime = new Date();
  console.log(`\n[${startTime.toLocaleTimeString()}] Starting batch processing...`);
  
  // Import modules
  const { createClient } = await import('@supabase/supabase-js');
  
  const supabase = createClient(
    process.env.NEXT_PUBLIC_SUPABASE_URL,
    process.env.SUPABASE_SERVICE_ROLE_KEY
  );

  // Get pending jobs
  const { data: pendingJobs, error } = await supabase
    .from('scraping_jobs')
    .select('*')
    .eq('status', 'pending')
    .order('priority', { ascending: false })
    .limit(BATCH_SIZE);

  if (error || !pendingJobs || pendingJobs.length === 0) {
    console.log('No pending jobs found.');
    return;
  }

  console.log(`Found ${pendingJobs.length} pending jobs to process`);

  // Process each job
  for (const job of pendingJobs) {
    console.log(`\n📋 Processing: ${job.target_url}`);
    
    // Update to running
    await supabase
      .from('scraping_jobs')
      .update({ status: 'running', updated_at: new Date().toISOString() })
      .eq('id', job.id);

    let</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/local-scraper-simple.cjs (Line 147:2 - Line 168:11), C:/AI/food-truck-finder-poc/scripts/scraper-with-listing-extraction.cjs (Line 46:2 - Line 67:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn47" onclick="toggleCodeBlock('cloneGroup47', 'expandBtn47', 'collapseBtn47')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn47" onclick="toggleCodeBlock('cloneGroup47', 'expandBtn47', 'collapseBtn47')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup47"><code class="language-javascript text-sm text-gray-800">;
    
    try {
      // Scrape with Firecrawl
      const scrapeResponse = await fetch('https://api.firecrawl.dev/v1/scrape', {
        method: 'POST',
        headers: {
          'Authorization': `Bearer ${process.env.FIRECRAWL_API_KEY}`,
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          url: job.target_url,
          formats: ['markdown'],
          waitFor: 2000
        })
      });

      if (!scrapeResponse.ok) {
        throw new Error(`Firecrawl error: ${scrapeResponse.status}`);
      }

      scrapeData</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/local-scraper-simple.cjs (Line 203:42 - Line 227:4), C:/AI/food-truck-finder-poc/scripts/scraper-with-listing-extraction.cjs (Line 89:42 - Line 113:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn48" onclick="toggleCodeBlock('cloneGroup48', 'expandBtn48', 'collapseBtn48')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn48" onclick="toggleCodeBlock('cloneGroup48', 'expandBtn48', 'collapseBtn48')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup48"><code class="language-javascript text-sm text-gray-800">;

      const geminiResponse = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${process.env.GEMINI_API_KEY || process.env.GOOGLE_API_KEY}`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          contents: [{
            parts: [{ text: extractPrompt }]
          }],
          generationConfig: {
            temperature: 0.1,
            maxOutputTokens: 2048
          }
        })
      });

      if (!geminiResponse.ok) {
        throw new Error(`Gemini error: ${geminiResponse.status}`);
      }

      const geminiData = await geminiResponse.json();
      const extractedText = geminiData.candidates?.[0]?.content?.parts?.[0]?.text || '{}';
      
      // Parse JSON
      try</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/local-scraper-simple.cjs (Line 227:7 - Line 241:8), C:/AI/food-truck-finder-poc/scripts/scraper-with-listing-extraction.cjs (Line 114:7 - Line 128:32)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn49" onclick="toggleCodeBlock('cloneGroup49', 'expandBtn49', 'collapseBtn49')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn49" onclick="toggleCodeBlock('cloneGroup49', 'expandBtn49', 'collapseBtn49')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup49"><code class="language-javascript text-sm text-gray-800">try {
        const jsonMatch = extractedText.match(/\{[\s\S]*\}/);
        if (jsonMatch) {
          let cleanJson = jsonMatch[0]
            .replace(/,\s*}/g, '}')
            .replace(/,\s*]/g, ']')
            .replace(/\n/g, ' ')
            .replace(/\s+/g, ' ');
          extractedData = JSON.parse(cleanJson);
        }
      } catch (e) {
        extractedData = { name: 'Unknown' };
      }

      console</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/local-scraper-simple.cjs (Line 387:7 - Line 407:20), C:/AI/food-truck-finder-poc/scripts/scraper-with-listing-extraction.cjs (Line 206:9 - Line 226:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn50" onclick="toggleCodeBlock('cloneGroup50', 'expandBtn50', 'collapseBtn50')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn50" onclick="toggleCodeBlock('cloneGroup50', 'expandBtn50', 'collapseBtn50')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup50"><code class="language-javascript text-sm text-gray-800">// Check for existing truck
      const { data: existing } = await supabase
        .from('food_trucks')
        .select('id, name, source_urls')
        .ilike('name', `%${extractedData.name}%`)
        .limit(1);

      if (existing &amp;&amp; existing.length &gt; 0) {
        // Update existing
        const urls = Array.from(new Set([...(existing[0].source_urls || []), job.target_url]));
        await supabase
          .from('food_trucks')
          .update({
            ...extractedData,
            source_urls: urls,
            last_scraped_at: new Date().toISOString()
          })
          .eq('id', existing[0].id);
        console.log(`  ✓ Updated existing truck`);
      } else {
        // Create new truck</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/local-scraper-simple.cjs (Line 464:4 - Line 480:6), C:/AI/food-truck-finder-poc/scripts/scraper-with-listing-extraction.cjs (Line 233:4 - Line 248:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn51" onclick="toggleCodeBlock('cloneGroup51', 'expandBtn51', 'collapseBtn51')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn51" onclick="toggleCodeBlock('cloneGroup51', 'expandBtn51', 'collapseBtn51')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup51"><code class="language-javascript text-sm text-gray-800">,
            verification_status: 'pending'
          });
        console.log(`  ✓ Created new truck`);
      }

      // Mark job completed
      await supabase
        .from('scraping_jobs')
        .update({ 
          status: 'completed',
          completed_at: new Date().toISOString(),
          data_collected: extractedData
        })
        .eq('id', job.id);

    } catch</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/local-scraper-simple.cjs (Line 480:5 - Line 516:2), C:/AI/food-truck-finder-poc/scripts/scraper-with-listing-extraction.cjs (Line 252:5 - Line 289:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn52" onclick="toggleCodeBlock('cloneGroup52', 'expandBtn52', 'collapseBtn52')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn52" onclick="toggleCodeBlock('cloneGroup52', 'expandBtn52', 'collapseBtn52')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup52"><code class="language-javascript text-sm text-gray-800">} catch (error) {
      console.error(`  ❌ Failed: ${error.message}`);
      
      // Mark job failed
      await supabase
        .from('scraping_jobs')
        .update({ 
          status: 'failed',
          errors: [error.message],
          updated_at: new Date().toISOString()
        })
        .eq('id', job.id);
    }

    // Small delay between jobs
    await new Promise(resolve =&gt; setTimeout(resolve, 2000));
  }

  const endTime = new Date();
  const duration = Math.round((endTime - startTime) / 1000);
  console.log(`\n✅ Batch completed in ${duration} seconds`);
  
  // Show stats
  const { data: stats } = await supabase
    .from('scraping_jobs')
    .select('status');
  
  const counts = stats?.reduce((acc, job) =&gt; {
    acc[job.status] = (acc[job.status] || 0) + 1;
    return acc;
  }, {}) || {};

  console.log('\n📊 Job Status:');
  Object.entries(counts).forEach(([status, count]) =&gt; {
    console.log(`  ${status}: ${count}`);
  });
}</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/local-scraper-simple.cjs (Line 515:2 - Line 530:2), C:/AI/food-truck-finder-poc/scripts/scraper-with-listing-extraction.cjs (Line 294:2 - Line 309:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn53" onclick="toggleCodeBlock('cloneGroup53', 'expandBtn53', 'collapseBtn53')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn53" onclick="toggleCodeBlock('cloneGroup53', 'expandBtn53', 'collapseBtn53')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup53"><code class="language-javascript text-sm text-gray-800">);
}

// Run immediately, then schedule
processBatch().catch(console.error);

// Schedule to run every INTERVAL_MINUTES
setInterval(() =&gt; {
  processBatch().catch(console.error);
}, INTERVAL_MINUTES * 60 * 1000);

// Handle graceful shutdown
process.on('SIGINT', () =&gt; {
  console.log('\n\n👋 Scraper stopped gracefully');
  process.exit(0);
});</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/local-scraper-server.js (Line 83:3 - Line 92:4), C:/AI/food-truck-finder-poc/scripts/test-scrape.cjs (Line 34:3 - Line 43:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn54" onclick="toggleCodeBlock('cloneGroup54', 'expandBtn54', 'collapseBtn54')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn54" onclick="toggleCodeBlock('cloneGroup54', 'expandBtn54', 'collapseBtn54')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup54"><code class="language-javascript text-sm text-gray-800">const { data: jobStats } = await supabase
    .from('scraping_jobs')
    .select('status');
  
  const stats = jobStats?.reduce((acc, job) =&gt; {
    acc[job.status] = (acc[job.status] || 0) + 1;
    return acc;
  }, {}) || {};

  res</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/list-tables.js (Line 7:1 - Line 23:11), C:/AI/food-truck-finder-poc/scripts/safe-convert-discovered-to-jobs.js (Line 8:1 - Line 23:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn55" onclick="toggleCodeBlock('cloneGroup55', 'expandBtn55', 'collapseBtn55')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn55" onclick="toggleCodeBlock('cloneGroup55', 'expandBtn55', 'collapseBtn55')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup55"><code class="language-javascript text-sm text-gray-800">import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

import { createClient } from '@supabase/supabase-js';

// Initialize Supabase with environment variables
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials! Need both NEXT_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, serviceRoleKey);

async function listTables</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/list-all-tables.js (Line 1:1 - Line 27:37), C:/AI/food-truck-finder-poc/scripts/list-tables.js (Line 1:1 - Line 27:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn56" onclick="toggleCodeBlock('cloneGroup56', 'expandBtn56', 'collapseBtn56')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn56" onclick="toggleCodeBlock('cloneGroup56', 'expandBtn56', 'collapseBtn56')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup56"><code class="language-javascript text-sm text-gray-800">#!/usr/bin/env node

/**
 * Script to list all tables in the database.
 */

import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

import { createClient } from '@supabase/supabase-js';

// Initialize Supabase with environment variables
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials! Need both NEXT_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, serviceRoleKey);

async function listTables() {
  console.log('🔍 Listing all tables in the database...');

  try {
    // Query information schema directly</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/list-all-tables.js (Line 66:3 - Line 75:2), C:/AI/food-truck-finder-poc/scripts/list-tables.js (Line 38:3 - Line 47:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn57" onclick="toggleCodeBlock('cloneGroup57', 'expandBtn57', 'collapseBtn57')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn57" onclick="toggleCodeBlock('cloneGroup57', 'expandBtn57', 'collapseBtn57')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup57"><code class="language-javascript text-sm text-gray-800">} catch (error) {
    console.error('💥 Fatal error:', error);
    process.exit(1);
  }
}

listTables().catch((error) =&gt; {
  console.error('💥 Unhandled error:', error);
  process.exit(1);
});</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/get-unknown-trucks.js (Line 7:1 - Line 23:17), C:/AI/food-truck-finder-poc/scripts/safe-convert-discovered-to-jobs.js (Line 8:1 - Line 23:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn58" onclick="toggleCodeBlock('cloneGroup58', 'expandBtn58', 'collapseBtn58')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn58" onclick="toggleCodeBlock('cloneGroup58', 'expandBtn58', 'collapseBtn58')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup58"><code class="language-javascript text-sm text-gray-800">import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

import { createClient } from '@supabase/supabase-js';

// Initialize Supabase with environment variables
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials! Need both NEXT_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, serviceRoleKey);

async function getUnknownTrucks</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/get-high-impact-files.cjs (Line 57:13 - Line 66:36), C:/AI/food-truck-finder-poc/scripts/get-high-impact-files.cjs (Line 41:11 - Line 50:34)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn59" onclick="toggleCodeBlock('cloneGroup59', 'expandBtn59', 'collapseBtn59')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn59" onclick="toggleCodeBlock('cloneGroup59', 'expandBtn59', 'collapseBtn59')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup59"><code class="language-javascript text-sm text-gray-800">.forEach((f) =&gt; {
      appendToReport(`${f.errors} errors: ${f.file}`);
      f.messages.forEach((msg) =&gt; {
        appendToReport(
          `  - [${msg.severity}] ${msg.ruleId} (Line ${msg.line}, Col ${msg.column}): ${msg.message}`,
        );
      });
    });
  } else {
    appendToReport('No files with 10-19 errors found.'</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/get-high-impact-files.cjs (Line 73:12 - Line 82:34), C:/AI/food-truck-finder-poc/scripts/get-high-impact-files.cjs (Line 41:11 - Line 50:34)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn60" onclick="toggleCodeBlock('cloneGroup60', 'expandBtn60', 'collapseBtn60')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn60" onclick="toggleCodeBlock('cloneGroup60', 'expandBtn60', 'collapseBtn60')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup60"><code class="language-javascript text-sm text-gray-800">.forEach((f) =&gt; {
      appendToReport(`${f.errors} errors: ${f.file}`);
      f.messages.forEach((msg) =&gt; {
        appendToReport(
          `  - [${msg.severity}] ${msg.ruleId} (Line ${msg.line}, Col ${msg.column}): ${msg.message}`,
        );
      });
    });
  } else {
    appendToReport('No files with 5-9 errors found.'</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-require-await.cjs (Line 65:25 - Line 89:6), C:/AI/food-truck-finder-poc/scripts/replace-null-with-undefined.cjs (Line 20:54 - Line 44:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn61" onclick="toggleCodeBlock('cloneGroup61', 'expandBtn61', 'collapseBtn61')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn61" onclick="toggleCodeBlock('cloneGroup61', 'expandBtn61', 'collapseBtn61')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup61"><code class="language-javascript text-sm text-gray-800">${filePath}`);
        }
      });
    }
  });
}

function walkDir(dir) {
  fs.readdir(dir, (err, files) =&gt; {
    if (err) {
      console.error(`Error reading directory ${dir}:`, err);
      return;
    }

    files.forEach((file) =&gt; {
      const filePath = path.join(dir, file);
      fs.stat(filePath, (err, stat) =&gt; {
        if (err) {
          console.error(`Error stating file ${filePath}:`, err);
          return;
        }

        if (stat.isDirectory()) {
          walkDir(filePath);
        } else if (filePath.endsWith('.ts'</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-redundant-jump.cjs (Line 7:17 - Line 19:3), C:/AI/food-truck-finder-poc/scripts/fix-require-await.cjs (Line 7:16 - Line 20:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn62" onclick="toggleCodeBlock('cloneGroup62', 'expandBtn62', 'collapseBtn62')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn62" onclick="toggleCodeBlock('cloneGroup62', 'expandBtn62', 'collapseBtn62')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup62"><code class="language-javascript text-sm text-gray-800">(filePath) {
  fs.readFile(filePath, 'utf8', (err, code) =&gt; {
    if (err) {
      console.error(`Error reading file ${filePath}:`, err);
      return;
    }

    const sourceFile = ts.createSourceFile(filePath, code, ts.ScriptTarget.Latest, true);

    const transformations = [];

    function visit(node) {
      if (ts</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-redundant-jump.cjs (Line 27:9 - Line 45:26), C:/AI/food-truck-finder-poc/scripts/fix-require-await.cjs (Line 47:9 - Line 65:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn63" onclick="toggleCodeBlock('cloneGroup63', 'expandBtn63', 'collapseBtn63')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn63" onclick="toggleCodeBlock('cloneGroup63', 'expandBtn63', 'collapseBtn63')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup63"><code class="language-javascript text-sm text-gray-800">}
      }
      ts.forEachChild(node, visit);
    }

    visit(sourceFile);

    if (transformations.length &gt; 0) {
      transformations.sort((a, b) =&gt; b.pos - a.pos);
      let newCode = code;
      for (const transform of transformations) {
        newCode = newCode.slice(0, transform.pos) + transform.text + newCode.slice(transform.end);
      }

      fs.writeFile(filePath, newCode, 'utf8', (err) =&gt; {
        if (err) {
          console.error(`Error writing file ${filePath}:`, err);
        } else {
          console.log(`Fixed redundant jump in </code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-redundant-jump.cjs (Line 45:26 - Line 70:17), C:/AI/food-truck-finder-poc/scripts/replace-null-with-undefined.cjs (Line 20:54 - Line 45:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn64" onclick="toggleCodeBlock('cloneGroup64', 'expandBtn64', 'collapseBtn64')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn64" onclick="toggleCodeBlock('cloneGroup64', 'expandBtn64', 'collapseBtn64')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup64"><code class="language-javascript text-sm text-gray-800">${filePath}`);
        }
      });
    }
  });
}

function walkDir(dir) {
  fs.readdir(dir, (err, files) =&gt; {
    if (err) {
      console.error(`Error reading directory ${dir}:`, err);
      return;
    }

    files.forEach((file) =&gt; {
      const filePath = path.join(dir, file);
      fs.stat(filePath, (err, stat) =&gt; {
        if (err) {
          console.error(`Error stating file ${filePath}:`, err);
          return;
        }

        if (stat.isDirectory()) {
          walkDir(filePath);
        } else if (filePath.endsWith('.tsx')) {
          fixRedundantJump</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-readonly-props-ts.cjs (Line 7:23 - Line 19:23), C:/AI/food-truck-finder-poc/scripts/fix-require-await.cjs (Line 7:16 - Line 19:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn65" onclick="toggleCodeBlock('cloneGroup65', 'expandBtn65', 'collapseBtn65')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn65" onclick="toggleCodeBlock('cloneGroup65', 'expandBtn65', 'collapseBtn65')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup65"><code class="language-javascript text-sm text-gray-800">(filePath) {
  fs.readFile(filePath, 'utf8', (err, code) =&gt; {
    if (err) {
      console.error(`Error reading file ${filePath}:`, err);
      return;
    }

    const sourceFile = ts.createSourceFile(filePath, code, ts.ScriptTarget.Latest, true);

    const transformations = [];

    function visit(node) {
      if (ts.isInterfaceDeclaration</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-readonly-props-ts.cjs (Line 28:12 - Line 49:31), C:/AI/food-truck-finder-poc/scripts/fix-require-await.cjs (Line 44:3 - Line 65:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn66" onclick="toggleCodeBlock('cloneGroup66', 'expandBtn66', 'collapseBtn66')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn66" onclick="toggleCodeBlock('cloneGroup66', 'expandBtn66', 'collapseBtn66')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup66"><code class="language-javascript text-sm text-gray-800">,
            });
          }
        }
      }
      ts.forEachChild(node, visit);
    }

    visit(sourceFile);

    if (transformations.length &gt; 0) {
      transformations.sort((a, b) =&gt; b.pos - a.pos);
      let newCode = code;
      for (const transform of transformations) {
        newCode = newCode.slice(0, transform.pos) + transform.text + newCode.slice(transform.end);
      }

      fs.writeFile(filePath, newCode, 'utf8', (err) =&gt; {
        if (err) {
          console.error(`Error writing file ${filePath}:`, err);
        } else {
          console.log(`Added &quot;readonly&quot; to props in </code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-readonly-props-ts.cjs (Line 49:31 - Line 74:23), C:/AI/food-truck-finder-poc/scripts/replace-null-with-undefined.cjs (Line 20:54 - Line 45:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn67" onclick="toggleCodeBlock('cloneGroup67', 'expandBtn67', 'collapseBtn67')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn67" onclick="toggleCodeBlock('cloneGroup67', 'expandBtn67', 'collapseBtn67')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup67"><code class="language-javascript text-sm text-gray-800">${filePath}`);
        }
      });
    }
  });
}

function walkDir(dir) {
  fs.readdir(dir, (err, files) =&gt; {
    if (err) {
      console.error(`Error reading directory ${dir}:`, err);
      return;
    }

    files.forEach((file) =&gt; {
      const filePath = path.join(dir, file);
      fs.stat(filePath, (err, stat) =&gt; {
        if (err) {
          console.error(`Error stating file ${filePath}:`, err);
          return;
        }

        if (stat.isDirectory()) {
          walkDir(filePath);
        } else if (filePath.endsWith('.tsx')) {
          addReadonlyToInterface</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-readonly-props-ast.cjs (Line 4:13 - Line 15:4), C:/AI/food-truck-finder-poc/scripts/fix-readonly-props-ts.cjs (Line 3:13 - Line 14:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn68" onclick="toggleCodeBlock('cloneGroup68', 'expandBtn68', 'collapseBtn68')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn68" onclick="toggleCodeBlock('cloneGroup68', 'expandBtn68', 'collapseBtn68')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup68"><code class="language-javascript text-sm text-gray-800">);

const componentsDir = path.join(__dirname, '../components');

function addReadonlyToInterface(filePath) {
  fs.readFile(filePath, 'utf8', (err, code) =&gt; {
    if (err) {
      console.error(`Error reading file ${filePath}:`, err);
      return;
    }

    try</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-readonly-props-ast.cjs (Line 40:9 - Line 48:6), C:/AI/food-truck-finder-poc/scripts/fix-readonly-props-ts.cjs (Line 45:7 - Line 53:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn69" onclick="toggleCodeBlock('cloneGroup69', 'expandBtn69', 'collapseBtn69')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn69" onclick="toggleCodeBlock('cloneGroup69', 'expandBtn69', 'collapseBtn69')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup69"><code class="language-javascript text-sm text-gray-800">fs.writeFile(filePath, newCode, 'utf8', (err) =&gt; {
          if (err) {
            console.error(`Error writing file ${filePath}:`, err);
          } else {
            console.log(`Added &quot;readonly&quot; to props in ${filePath}`);
          }
        });
      }
    } catch</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-readonly-props-ast.cjs (Line 49:2 - Line 79:2), C:/AI/food-truck-finder-poc/scripts/replace-null-with-undefined.cjs (Line 22:2 - Line 81:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn70" onclick="toggleCodeBlock('cloneGroup70', 'expandBtn70', 'collapseBtn70')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn70" onclick="toggleCodeBlock('cloneGroup70', 'expandBtn70', 'collapseBtn70')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup70"><code class="language-javascript text-sm text-gray-800">);
    }
  });
}

function walkDir(dir) {
  fs.readdir(dir, (err, files) =&gt; {
    if (err) {
      console.error(`Error reading directory ${dir}:`, err);
      return;
    }

    files.forEach((file) =&gt; {
      const filePath = path.join(dir, file);
      fs.stat(filePath, (err, stat) =&gt; {
        if (err) {
          console.error(`Error stating file ${filePath}:`, err);
          return;
        }

        if (stat.isDirectory()) {
          walkDir(filePath);
        } else if (filePath.endsWith('.tsx')) {
          addReadonlyToInterface(filePath);
        }
      });
    });
  });
}

walkDir(componentsDir);</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-imports-systematic.js (Line 1:1 - Line 9:64), C:/AI/food-truck-finder-poc/scripts/fix-imports.js (Line 1:1 - Line 9:37)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn71" onclick="toggleCodeBlock('cloneGroup71', 'expandBtn71', 'collapseBtn71')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn71" onclick="toggleCodeBlock('cloneGroup71', 'expandBtn71', 'collapseBtn71')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup71"><code class="language-javascript text-sm text-gray-800">import { readFileSync, writeFileSync, existsSync, readdirSync, statSync } from 'fs';
import { join, dirname, relative } from 'path';
import { fileURLToPath } from 'url';

// Get __dirname equivalent in ES modules
const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

// Comprehensive mapping of directory imports to specific files</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-imports-systematic.js (Line 176:3 - Line 188:4), C:/AI/food-truck-finder-poc/scripts/fix-imports.js (Line 100:3 - Line 112:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn72" onclick="toggleCodeBlock('cloneGroup72', 'expandBtn72', 'collapseBtn72')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn72" onclick="toggleCodeBlock('cloneGroup72', 'expandBtn72', 'collapseBtn72')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup72"><code class="language-javascript text-sm text-gray-800">const dirPath = dirname(filePath);
  const distLibPath = join(__dirname, '../dist/lib');
  
  content = content.replace(
    /from\s+['&quot;]@\/lib\/([^'&quot;]+)['&quot;]/g,
    (match, importPath) =&gt; {
      // Convert @/lib/path to relative path
      const targetPath = join(distLibPath, importPath);
      const relativePath = relative(dirPath, targetPath);
      const normalizedPath = relativePath.replace(/\\/g, '/');
      
      // Add .js extension if it's a file (not a directory)
      let</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-filename-case.cjs (Line 29:1 - Line 49:16), C:/AI/food-truck-finder-poc/scripts/replace-null-with-undefined.cjs (Line 25:1 - Line 90:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn73" onclick="toggleCodeBlock('cloneGroup73', 'expandBtn73', 'collapseBtn73')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn73" onclick="toggleCodeBlock('cloneGroup73', 'expandBtn73', 'collapseBtn73')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup73"><code class="language-javascript text-sm text-gray-800">}

function walkDir(dir) {
  fs.readdir(dir, (err, files) =&gt; {
    if (err) {
      console.error(`Error reading directory ${dir}:`, err);
      return;
    }

    files.forEach((file) =&gt; {
      const filePath = path.join(dir, file);
      fs.stat(filePath, (err, stat) =&gt; {
        if (err) {
          console.error(`Error stating file ${filePath}:`, err);
          return;
        }

        if (stat.isDirectory()) {
          walkDir(filePath);
        } else if (filePath.endsWith('.ts') || filePath.endsWith('.tsx')) {
          fixFilenameCase</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-empty-interfaces.cjs (Line 7:19 - Line 19:8), C:/AI/food-truck-finder-poc/scripts/fix-require-await.cjs (Line 7:16 - Line 19:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn74" onclick="toggleCodeBlock('cloneGroup74', 'expandBtn74', 'collapseBtn74')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn74" onclick="toggleCodeBlock('cloneGroup74', 'expandBtn74', 'collapseBtn74')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup74"><code class="language-javascript text-sm text-gray-800">(filePath) {
  fs.readFile(filePath, 'utf8', (err, code) =&gt; {
    if (err) {
      console.error(`Error reading file ${filePath}:`, err);
      return;
    }

    const sourceFile = ts.createSourceFile(filePath, code, ts.ScriptTarget.Latest, true);

    const transformations = [];

    function visit(node) {
      if (ts.isInterfaceDeclaration(node) &amp;&amp; node.members</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-empty-interfaces.cjs (Line 25:7 - Line 42:27), C:/AI/food-truck-finder-poc/scripts/fix-require-await.cjs (Line 48:7 - Line 65:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn75" onclick="toggleCodeBlock('cloneGroup75', 'expandBtn75', 'collapseBtn75')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn75" onclick="toggleCodeBlock('cloneGroup75', 'expandBtn75', 'collapseBtn75')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup75"><code class="language-javascript text-sm text-gray-800">}
      ts.forEachChild(node, visit);
    }

    visit(sourceFile);

    if (transformations.length &gt; 0) {
      transformations.sort((a, b) =&gt; b.pos - a.pos);
      let newCode = code;
      for (const transform of transformations) {
        newCode = newCode.slice(0, transform.pos) + transform.text + newCode.slice(transform.end);
      }

      fs.writeFile(filePath, newCode, 'utf8', (err) =&gt; {
        if (err) {
          console.error(`Error writing file ${filePath}:`, err);
        } else {
          console.log(`Fixed empty interface in </code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-empty-interfaces.cjs (Line 42:27 - Line 67:19), C:/AI/food-truck-finder-poc/scripts/replace-null-with-undefined.cjs (Line 20:54 - Line 45:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn76" onclick="toggleCodeBlock('cloneGroup76', 'expandBtn76', 'collapseBtn76')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn76" onclick="toggleCodeBlock('cloneGroup76', 'expandBtn76', 'collapseBtn76')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup76"><code class="language-javascript text-sm text-gray-800">${filePath}`);
        }
      });
    }
  });
}

function walkDir(dir) {
  fs.readdir(dir, (err, files) =&gt; {
    if (err) {
      console.error(`Error reading directory ${dir}:`, err);
      return;
    }

    files.forEach((file) =&gt; {
      const filePath = path.join(dir, file);
      fs.stat(filePath, (err, stat) =&gt; {
        if (err) {
          console.error(`Error stating file ${filePath}:`, err);
          return;
        }

        if (stat.isDirectory()) {
          walkDir(filePath);
        } else if (filePath.endsWith('.tsx')) {
          fixEmptyInterfaces</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-all-imports.cjs (Line 14:3 - Line 35:2), C:/AI/food-truck-finder-poc/scripts/fix-imports.cjs (Line 13:2 - Line 34:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn77" onclick="toggleCodeBlock('cloneGroup77', 'expandBtn77', 'collapseBtn77')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn77" onclick="toggleCodeBlock('cloneGroup77', 'expandBtn77', 'collapseBtn77')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup77"><code class="language-javascript text-sm text-gray-800">);
    }
  }
  return importPath;
}

function addJsExtensions(dir) {
  const files = fs.readdirSync(dir);

  for (const file of files) {
    const filePath = path.join(dir, file);
    const stat = fs.statSync(filePath);

    if (stat.isDirectory()) {
      addJsExtensions(filePath);
    } else if (filePath.endsWith('.js')) {
      let content = fs.readFileSync(filePath, 'utf8');
      const importRegex = /from\s+['&quot;](.*?)['&quot;]/g;
      let changed = false;

      content = content.replace(importRegex, (match, p1) =&gt; {
        let resolvedPath = resolveAlias(p1,</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/fix-all-imports.cjs (Line 35:9 - Line 51:5), C:/AI/food-truck-finder-poc/scripts/fix-imports.cjs (Line 34:3 - Line 50:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn78" onclick="toggleCodeBlock('cloneGroup78', 'expandBtn78', 'collapseBtn78')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn78" onclick="toggleCodeBlock('cloneGroup78', 'expandBtn78', 'collapseBtn78')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup78"><code class="language-javascript text-sm text-gray-800">);
        if (resolvedPath.startsWith('.') &amp;&amp; !resolvedPath.endsWith('.js')) {
          changed = true;
          return `from '${resolvedPath}.js'`;
        }
        return match;
      });

      if (changed) {
        console.log(`Fixing imports in ${filePath}`);
        fs.writeFileSync(filePath, content, 'utf8');
      }
    }
  }
}

addJsExtensions(path</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/find-merge-duplicates.cjs (Line 68:11 - Line 78:9), C:/AI/food-truck-finder-poc/lib/data-quality/duplicatePrevention.js (Line 184:17 - Line 193:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn79" onclick="toggleCodeBlock('cloneGroup79', 'expandBtn79', 'collapseBtn79')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn79" onclick="toggleCodeBlock('cloneGroup79', 'expandBtn79', 'collapseBtn79')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup79"><code class="language-javascript text-sm text-gray-800">matrix[i - 1][j - 1] + cost
        );
      }
    }

    const distance = matrix[len1][len2];
    const maxLength = Math.max(len1, len2);
    return maxLength === 0 ? 1 : 1 - distance / maxLength;
  }

  function</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/find-merge-duplicates.cjs (Line 119:5 - Line 132:3), C:/AI/food-truck-finder-poc/lib/data-quality/duplicatePrevention.js (Line 246:9 - Line 259:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn80" onclick="toggleCodeBlock('cloneGroup80', 'expandBtn80', 'collapseBtn80')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn80" onclick="toggleCodeBlock('cloneGroup80', 'expandBtn80', 'collapseBtn80')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup80"><code class="language-javascript text-sm text-gray-800">if (contact1.website != undefined &amp;&amp; contact2.website != undefined) {
      const url1 = contact1.website
        .toLowerCase()
        .replace(/^https?:\/\//, '')
        .replace(/\/$/, '');
      const url2 = contact2.website
        .toLowerCase()
        .replace(/^https?:\/\//, '')
        .replace(/\/$/, '');
      if (url1 === url2) matches += 1;
      total += 1;
    }

    if</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/find-merge-duplicates.cjs (Line 132:5 - Line 140:9), C:/AI/food-truck-finder-poc/lib/data-quality/duplicatePrevention.js (Line 260:9 - Line 269:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn81" onclick="toggleCodeBlock('cloneGroup81', 'expandBtn81', 'collapseBtn81')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn81" onclick="toggleCodeBlock('cloneGroup81', 'expandBtn81', 'collapseBtn81')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup81"><code class="language-javascript text-sm text-gray-800">if (contact1.email != undefined &amp;&amp; contact2.email != undefined) {
      if (contact1.email.toLowerCase() === contact2.email.toLowerCase()) matches += 1;
      total += 1;
    }

    return total &gt; 0 ? matches / total : 0;
  }

  function</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/find-merge-duplicates.cjs (Line 142:5 - Line 153:9), C:/AI/food-truck-finder-poc/lib/data-quality/duplicatePrevention.js (Line 274:9 - Line 286:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn82" onclick="toggleCodeBlock('cloneGroup82', 'expandBtn82', 'collapseBtn82')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn82" onclick="toggleCodeBlock('cloneGroup82', 'expandBtn82', 'collapseBtn82')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup82"><code class="language-javascript text-sm text-gray-800">const categories1 = menu1
      .map((cat) =&gt; cat.category?.toLowerCase() ?? '')
      .filter(Boolean);
    const categories2 = menu2
      .map((cat) =&gt; cat.category?.toLowerCase() ?? '')
      .filter(Boolean);
    const commonCategories = categories1.filter((cat) =&gt; categories2.includes(cat));
    const totalCategories = new Set([...categories1, ...categories2]).size;
    return totalCategories &gt; 0 ? commonCategories.length / totalCategories : 0;
  }

  function</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/count-errors.cjs (Line 77:2 - Line 84:11), C:/AI/food-truck-finder-poc/scripts/count-errors.cjs (Line 48:14 - Line 56:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn83" onclick="toggleCodeBlock('cloneGroup83', 'expandBtn83', 'collapseBtn83')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn83" onclick="toggleCodeBlock('cloneGroup83', 'expandBtn83', 'collapseBtn83')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup83"><code class="language-javascript text-sm text-gray-800">,
        files: results.length,
        filesWithErrors: results.filter((f) =&gt; f.errorCount &gt; 0).length,
      };

      fs.writeFileSync('.current-metrics.json', JSON.stringify(metrics, null, 2));
      return totalErrors;
    } catch (parseError</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/convert-discovered-to-jobs.js (Line 8:1 - Line 24:83), C:/AI/food-truck-finder-poc/scripts/safe-convert-discovered-to-jobs.js (Line 8:1 - Line 24:61)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn84" onclick="toggleCodeBlock('cloneGroup84', 'expandBtn84', 'collapseBtn84')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn84" onclick="toggleCodeBlock('cloneGroup84', 'expandBtn84', 'collapseBtn84')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup84"><code class="language-javascript text-sm text-gray-800">import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

import { createClient } from '@supabase/supabase-js';

// Initialize Supabase with environment variables
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials! Need both NEXT_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, serviceRoleKey);

// Import autoScraper after Supabase is initialized to avoid circular dependencies</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/convert-discovered-to-jobs.js (Line 44:5 - Line 59:48), C:/AI/food-truck-finder-poc/scripts/safe-convert-discovered-to-jobs.js (Line 71:5 - Line 85:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn85" onclick="toggleCodeBlock('cloneGroup85', 'expandBtn85', 'collapseBtn85')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn85" onclick="toggleCodeBlock('cloneGroup85', 'expandBtn85', 'collapseBtn85')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup85"><code class="language-javascript text-sm text-gray-800">if (error) {
      console.error('❌ Error fetching discovered URLs:', error.message);
      process.exit(1);
    }

    if (!discoveredUrls || discoveredUrls.length === 0) {
      console.log('✅ No new discovered URLs found');
      return;
    }

    console.log(`📦 Found ${discoveredUrls.length} new discovered URLs to convert to jobs`);

    let createdJobs = 0;
    let failedJobs = 0;

    // Convert each discovered URL to a pending job</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/convert-discovered-to-jobs.js (Line 64:2 - Line 77:2), C:/AI/food-truck-finder-poc/scripts/safe-convert-discovered-to-jobs.js (Line 106:2 - Line 118:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn86" onclick="toggleCodeBlock('cloneGroup86', 'expandBtn86', 'collapseBtn86')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn86" onclick="toggleCodeBlock('cloneGroup86', 'expandBtn86', 'collapseBtn86')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup86"><code class="language-javascript text-sm text-gray-800">triggerScrapingProcess(url);
        
        if (result.success) {
          createdJobs++;
          console.log(`✅ Job created for ${url} (ID: ${result.jobId})`);
          
          // Update the discovered URL status to 'processing'
          const { error: updateError } = await supabase
            .from('discovered_urls')
            .update({
              status: 'processing',
              last_processed_at: new Date().toISOString(),
              notes: `Job created: ${result.jobId}`
            }</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/convert-discovered-to-jobs.js (Line 94:13 - Line 104:2), C:/AI/food-truck-finder-poc/scripts/safe-convert-discovered-to-jobs.js (Line 144:13 - Line 155:52)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn87" onclick="toggleCodeBlock('cloneGroup87', 'expandBtn87', 'collapseBtn87')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn87" onclick="toggleCodeBlock('cloneGroup87', 'expandBtn87', 'collapseBtn87')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup87"><code class="language-javascript text-sm text-gray-800">})
            .eq('id', id);
            
          if (updateError) {
            console.warn(`⚠️  Failed to update discovered URL status for ${url}:`, updateError.message);
          }
        }
      } catch (error) {
        failedJobs++;
        console.error(`💥 Error processing URL ${url}:`, error.message);
      }</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/comprehensive-automated-fixer.cjs (Line 28:20 - Line 49:6), C:/AI/food-truck-finder-poc/scripts/revert-boolean-fixer-damage.cjs (Line 16:13 - Line 37:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn88" onclick="toggleCodeBlock('cloneGroup88', 'expandBtn88', 'collapseBtn88')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn88" onclick="toggleCodeBlock('cloneGroup88', 'expandBtn88', 'collapseBtn88')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup88"><code class="language-javascript text-sm text-gray-800">: 0,
      errors: [],
    };
  }

  /**
   * Get current error count
   */
  getCurrentErrorCount() {
    try {
      const output = execSync('node scripts/count-errors.cjs', { encoding: 'utf8' });
      const lines = output.trim().split('\n');
      return parseInt(lines[lines.length - 1]) || 0;
    } catch (error) {
      console.warn('Could not get current error count:', error.message);
      return 0;
    }
  }

  /**
   * Step 1: Run ESLint auto-fix for safe rules
   */</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/comprehensive-automated-fixer.cjs (Line 339:8 - Line 349:28), C:/AI/food-truck-finder-poc/scripts/revert-boolean-fixer-damage.cjs (Line 222:2 - Line 232:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn89" onclick="toggleCodeBlock('cloneGroup89', 'expandBtn89', 'collapseBtn89')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn89" onclick="toggleCodeBlock('cloneGroup89', 'expandBtn89', 'collapseBtn89')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup89"><code class="language-javascript text-sm text-gray-800">)
    .then((result) =&gt; {
      process.exit(result.success ? 0 : 1);
    })
    .catch((error) =&gt; {
      console.error('Fatal error:', error);
      process.exit(1);
    });
}

module.exports = ComprehensiveAutomatedFixer</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/compare-urls.js (Line 7:1 - Line 23:6), C:/AI/food-truck-finder-poc/scripts/safe-convert-discovered-to-jobs.js (Line 8:1 - Line 23:59)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn90" onclick="toggleCodeBlock('cloneGroup90', 'expandBtn90', 'collapseBtn90')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn90" onclick="toggleCodeBlock('cloneGroup90', 'expandBtn90', 'collapseBtn90')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup90"><code class="language-javascript text-sm text-gray-800">import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

import { createClient } from '@supabase/supabase-js';

// Initialize Supabase with environment variables
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials!');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, serviceRoleKey);

async</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/cleanup-duplicate-jobs.js (Line 8:1 - Line 24:21), C:/AI/food-truck-finder-poc/scripts/safe-convert-discovered-to-jobs.js (Line 8:1 - Line 23:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn91" onclick="toggleCodeBlock('cloneGroup91', 'expandBtn91', 'collapseBtn91')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn91" onclick="toggleCodeBlock('cloneGroup91', 'expandBtn91', 'collapseBtn91')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup91"><code class="language-javascript text-sm text-gray-800">import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

import { createClient } from '@supabase/supabase-js';

// Initialize Supabase with environment variables
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials!');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, serviceRoleKey);

async function cleanupDuplicateJobs</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/clean-scraping-queue.cjs (Line 34:5 - Line 46:3), C:/AI/food-truck-finder-poc/scripts/local-scraper-simple.cjs (Line 330:7 - Line 342:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn92" onclick="toggleCodeBlock('cloneGroup92', 'expandBtn92', 'collapseBtn92')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn92" onclick="toggleCodeBlock('cloneGroup92', 'expandBtn92', 'collapseBtn92')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup92"><code class="language-javascript text-sm text-gray-800">if (url.includes('.png') || url.includes('.jpg') || url.includes('.gif') ||
        url.includes('.css') || url.includes('.js') || url.includes('facebook.com') ||
        url.includes('instagram.com') || url.includes('twitter.com') || 
        url.includes('linkedin.com') || url.includes('reddit.com') ||
        url.includes('whatsapp.com') || url.includes('/login') ||
        url.includes('/user_') || url.includes('/images/') ||
        url.includes('/static/') || url.includes('/assets/') ||
        url.includes('googleapis.com') || url.includes('gstatic.com') ||
        url.includes('cloudinary.com') || url.includes('spotapps.co') ||
        url.includes('openstreetmap.org') || url.includes('cartodb') ||
        url.includes('#') || url.includes('?page=') ||
        url.includes('/join') || url.includes('/contact') ||
        url.includes('/about') || url.includes('/privacy') ||</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/check-viable-trucks.cjs (Line 27:7 - Line 40:7), C:/AI/food-truck-finder-poc/lib/utils/foodTruckHelpers.js (Line 202:9 - Line 210:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn93" onclick="toggleCodeBlock('cloneGroup93', 'expandBtn93', 'collapseBtn93')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn93" onclick="toggleCodeBlock('cloneGroup93', 'expandBtn93', 'collapseBtn93')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup93"><code class="language-javascript text-sm text-gray-800">return false;
    }
    
    // Must have either coordinates OR a meaningful address
    const hasCoordinates = 
      typeof truck.current_location.lat === 'number' &amp;&amp; 
      typeof truck.current_location.lng === 'number';
      
    const hasAddress = 
      truck.current_location.address &amp;&amp; 
      truck.current_location.address.trim() !== '' &amp;&amp;
      truck.current_location.address !== 'Unknown';
    
    return</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/check-table-structure.js (Line 7:1 - Line 23:20), C:/AI/food-truck-finder-poc/scripts/safe-convert-discovered-to-jobs.js (Line 8:1 - Line 23:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn94" onclick="toggleCodeBlock('cloneGroup94', 'expandBtn94', 'collapseBtn94')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn94" onclick="toggleCodeBlock('cloneGroup94', 'expandBtn94', 'collapseBtn94')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup94"><code class="language-javascript text-sm text-gray-800">import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

import { createClient } from '@supabase/supabase-js';

// Initialize Supabase with environment variables
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials! Need both NEXT_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, serviceRoleKey);

async function checkTableStructure</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/check-page-trucks.js (Line 7:1 - Line 23:16), C:/AI/food-truck-finder-poc/scripts/safe-convert-discovered-to-jobs.js (Line 8:1 - Line 23:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn95" onclick="toggleCodeBlock('cloneGroup95', 'expandBtn95', 'collapseBtn95')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn95" onclick="toggleCodeBlock('cloneGroup95', 'expandBtn95', 'collapseBtn95')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup95"><code class="language-javascript text-sm text-gray-800">import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

import { createClient } from '@supabase/supabase-js';

// Initialize Supabase with environment variables
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials!');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, serviceRoleKey);

async function checkPageTrucks</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/check-jobs-table.js (Line 7:1 - Line 23:15), C:/AI/food-truck-finder-poc/scripts/safe-convert-discovered-to-jobs.js (Line 8:1 - Line 23:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn96" onclick="toggleCodeBlock('cloneGroup96', 'expandBtn96', 'collapseBtn96')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn96" onclick="toggleCodeBlock('cloneGroup96', 'expandBtn96', 'collapseBtn96')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup96"><code class="language-javascript text-sm text-gray-800">import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

import { createClient } from '@supabase/supabase-js';

// Initialize Supabase with environment variables
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials!');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, serviceRoleKey);

async function checkJobsTable</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/check-duplicate-jobs.js (Line 7:1 - Line 23:19), C:/AI/food-truck-finder-poc/scripts/safe-convert-discovered-to-jobs.js (Line 8:1 - Line 23:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn97" onclick="toggleCodeBlock('cloneGroup97', 'expandBtn97', 'collapseBtn97')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn97" onclick="toggleCodeBlock('cloneGroup97', 'expandBtn97', 'collapseBtn97')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup97"><code class="language-javascript text-sm text-gray-800">import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

import { createClient } from '@supabase/supabase-js';

// Initialize Supabase with environment variables
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials!');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, serviceRoleKey);

async function checkDuplicateJobs</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/check-duplicate-jobs.js (Line 24:61 - Line 64:8), C:/AI/food-truck-finder-poc/scripts/cleanup-duplicate-jobs.js (Line 25:68 - Line 66:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn98" onclick="toggleCodeBlock('cloneGroup98', 'expandBtn98', 'collapseBtn98')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn98" onclick="toggleCodeBlock('cloneGroup98', 'expandBtn98', 'collapseBtn98')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup98"><code class="language-javascript text-sm text-gray-800">);
  
  try {
    // Get all pending jobs
    const { data: pendingJobs, error } = await supabase
      .from('scraping_jobs')
      .select('id, target_url, created_at')
      .eq('status', 'pending')
      .order('created_at', { ascending: false });

    if (error) {
      console.error('❌ Error fetching pending jobs:', error.message);
      return;
    }

    if (!pendingJobs || pendingJobs.length === 0) {
      console.log('✅ No pending jobs found.');
      return;
    }

    console.log(`📊 Found ${pendingJobs.length} pending jobs`);

    // Group jobs by URL
    const urlGroups = {};
    pendingJobs.forEach(job =&gt; {
      if (!urlGroups[job.target_url]) {
        urlGroups[job.target_url] = [];
      }
      urlGroups[job.target_url].push(job);
    });

    // Find duplicates
    const duplicates = Object.entries(urlGroups).filter(([_, jobs]) =&gt; jobs.length &gt; 1);
    
    if (duplicates.length === 0) {
      console.log('✅ No duplicate URLs found in pending jobs.');
      return;
    }

    console.log(`\n⚠️  Found ${duplicates.length} URLs with duplicates:`);
    console</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/check-current-state.js (Line 7:1 - Line 23:18), C:/AI/food-truck-finder-poc/scripts/safe-convert-discovered-to-jobs.js (Line 8:1 - Line 23:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn100" onclick="toggleCodeBlock('cloneGroup100', 'expandBtn100', 'collapseBtn100')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn100" onclick="toggleCodeBlock('cloneGroup100', 'expandBtn100', 'collapseBtn100')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup100"><code class="language-javascript text-sm text-gray-800">import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

import { createClient } from '@supabase/supabase-js';

// Initialize Supabase with environment variables
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials!');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, serviceRoleKey);

async function checkCurrentState</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/check-completed-jobs.js (Line 7:1 - Line 23:19), C:/AI/food-truck-finder-poc/scripts/safe-convert-discovered-to-jobs.js (Line 8:1 - Line 23:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn101" onclick="toggleCodeBlock('cloneGroup101', 'expandBtn101', 'collapseBtn101')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn101" onclick="toggleCodeBlock('cloneGroup101', 'expandBtn101', 'collapseBtn101')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup101"><code class="language-javascript text-sm text-gray-800">import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

import { createClient } from '@supabase/supabase-js';

// Initialize Supabase with environment variables
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials! Need both NEXT_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, serviceRoleKey);

async function checkCompletedJobs</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/automated-unused-code-cleaner.cjs (Line 37:3 - Line 50:6), C:/AI/food-truck-finder-poc/scripts/revert-boolean-fixer-damage.cjs (Line 24:3 - Line 37:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn102" onclick="toggleCodeBlock('cloneGroup102', 'expandBtn102', 'collapseBtn102')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn102" onclick="toggleCodeBlock('cloneGroup102', 'expandBtn102', 'collapseBtn102')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup102"><code class="language-javascript text-sm text-gray-800">getCurrentErrorCount() {
    try {
      const output = execSync('node scripts/count-errors.cjs', { encoding: 'utf8' });
      const lines = output.trim().split('\n');
      return parseInt(lines[lines.length - 1]) || 0;
    } catch (error) {
      console.warn('Could not get current error count:', error.message);
      return 0;
    }
  }

  /**
   * Create backup of current state
   */</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/automated-unused-code-cleaner.cjs (Line 292:5 - Line 302:18), C:/AI/food-truck-finder-poc/scripts/comprehensive-automated-fixer.cjs (Line 339:5 - Line 232:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn103" onclick="toggleCodeBlock('cloneGroup103', 'expandBtn103', 'collapseBtn103')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn103" onclick="toggleCodeBlock('cloneGroup103', 'expandBtn103', 'collapseBtn103')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup103"><code class="language-javascript text-sm text-gray-800">.run(options)
    .then((result) =&gt; {
      process.exit(result.success ? 0 : 1);
    })
    .catch((error) =&gt; {
      console.error('Fatal error:', error);
      process.exit(1);
    });
}

module.exports = UnusedCodeCleaner</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/automated-nullish-coalescing-converter.cjs (Line 103:3 - Line 111:12), C:/AI/food-truck-finder-poc/scripts/revert-boolean-fixer-damage.cjs (Line 87:3 - Line 95:24)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn104" onclick="toggleCodeBlock('cloneGroup104', 'expandBtn104', 'collapseBtn104')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn104" onclick="toggleCodeBlock('cloneGroup104', 'expandBtn104', 'collapseBtn104')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup104"><code class="language-javascript text-sm text-gray-800">processFile(filePath) {
    try {
      const content = fs.readFileSync(filePath, 'utf8');
      const lines = content.split('\n');
      let hasChanges = false;
      const results = [];

      lines.forEach((line, index) =&gt; {
        const result = this.convertLine</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/automated-nullish-coalescing-converter.cjs (Line 115:16 - Line 136:6), C:/AI/food-truck-finder-poc/scripts/revert-boolean-fixer-damage.cjs (Line 100:10 - Line 121:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn105" onclick="toggleCodeBlock('cloneGroup105', 'expandBtn105', 'collapseBtn105')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn105" onclick="toggleCodeBlock('cloneGroup105', 'expandBtn105', 'collapseBtn105')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup105"><code class="language-javascript text-sm text-gray-800">);
        }
      });

      if (hasChanges) {
        fs.writeFileSync(filePath, results.join('\n'));
        console.log(`✅ Updated: ${filePath}`);
        return true;
      } else {
        console.log(`⏭️  No changes: ${filePath}`);
        return false;
      }
    } catch (error) {
      this.stats.errors.push({ file: filePath, error: error.message });
      console.error(`❌ Error processing ${filePath}: ${error.message}`);
      return false;
    }
  }

  /**
   * Find all TypeScript/TSX files in specified directories
   */</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/automated-nullish-coalescing-converter.cjs (Line 138:2 - Line 148:3), C:/AI/food-truck-finder-poc/scripts/comprehensive-automated-fixer.cjs (Line 172:6 - Line 182:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn106" onclick="toggleCodeBlock('cloneGroup106', 'expandBtn106', 'collapseBtn106')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn106" onclick="toggleCodeBlock('cloneGroup106', 'expandBtn106', 'collapseBtn106')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup106"><code class="language-javascript text-sm text-gray-800">];

    directories.forEach((dir) =&gt; {
      if (fs.existsSync(dir)) {
        const findFiles = (currentDir) =&gt; {
          const items = fs.readdirSync(currentDir);
          items.forEach((item) =&gt; {
            const fullPath = path.join(currentDir, item);
            const stat = fs.statSync(fullPath);

            if (stat.isDirectory() &amp;&amp; !item.startsWith('.') &amp;&amp;</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/automated-nullish-coalescing-converter.cjs (Line 148:15 - Line 164:6), C:/AI/food-truck-finder-poc/scripts/comprehensive-automated-fixer.cjs (Line 182:2 - Line 198:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn107" onclick="toggleCodeBlock('cloneGroup107', 'expandBtn107', 'collapseBtn107')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn107" onclick="toggleCodeBlock('cloneGroup107', 'expandBtn107', 'collapseBtn107')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup107"><code class="language-javascript text-sm text-gray-800">) {
              findFiles(fullPath);
            } else if (stat.isFile() &amp;&amp; (item.endsWith('.ts') || item.endsWith('.tsx'))) {
              files.push(fullPath);
            }
          });
        };
        findFiles(dir);
      }
    });

    return files;
  }

  /**
   * Get current error count for comparison
   */</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/automated-nullish-coalescing-converter.cjs (Line 159:6 - Line 178:6), C:/AI/food-truck-finder-poc/scripts/automated-unused-code-cleaner.cjs (Line 31:2 - Line 37:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn108" onclick="toggleCodeBlock('cloneGroup108', 'expandBtn108', 'collapseBtn108')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn108" onclick="toggleCodeBlock('cloneGroup108', 'expandBtn108', 'collapseBtn108')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup108"><code class="language-javascript text-sm text-gray-800">;
  }

  /**
   * Get current error count for comparison
   */
  getCurrentErrorCount() {
    try {
      const output = execSync('node scripts/count-errors.cjs', { encoding: 'utf8' });
      const lines = output.trim().split('\n');
      return parseInt(lines[lines.length - 1]) || 0;
    } catch (error) {
      console.warn('Could not get current error count:', error.message);
      return 0;
    }
  }

  /**
   * Run the conversion process
   */</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/automated-nullish-coalescing-converter.cjs (Line 245:5 - Line 259:19), C:/AI/food-truck-finder-poc/scripts/revert-boolean-fixer-damage.cjs (Line 197:4 - Line 211:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn109" onclick="toggleCodeBlock('cloneGroup109', 'expandBtn109', 'collapseBtn109')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn109" onclick="toggleCodeBlock('cloneGroup109', 'expandBtn109', 'collapseBtn109')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup109"><code class="language-javascript text-sm text-gray-800">(
      `Error reduction: ${errorReduction} (${((errorReduction / initialErrors) * 100).toFixed(1)}%)`,
    );

    if (this.stats.errors.length &gt; 0) {
      console.log('');
      console.log('❌ ERRORS:');
      this.stats.errors.forEach((err) =&gt; {
        console.log(`  ${err.file}: ${err.error}`);
      });
    }

    return {
      filesChanged,
      conversionsApplied</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/automated-nullish-coalescing-converter.cjs (Line 280:5 - Line 290:27), C:/AI/food-truck-finder-poc/scripts/comprehensive-automated-fixer.cjs (Line 339:5 - Line 232:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn110" onclick="toggleCodeBlock('cloneGroup110', 'expandBtn110', 'collapseBtn110')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn110" onclick="toggleCodeBlock('cloneGroup110', 'expandBtn110', 'collapseBtn110')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup110"><code class="language-javascript text-sm text-gray-800">.run(options)
    .then((result) =&gt; {
      process.exit(result.success ? 0 : 1);
    })
    .catch((error) =&gt; {
      console.error('Fatal error:', error);
      process.exit(1);
    });
}

module.exports = NullishCoalescingConverter</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/async-function-cleaner.cjs (Line 26:21 - Line 47:6), C:/AI/food-truck-finder-poc/scripts/revert-boolean-fixer-damage.cjs (Line 16:13 - Line 37:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn111" onclick="toggleCodeBlock('cloneGroup111', 'expandBtn111', 'collapseBtn111')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn111" onclick="toggleCodeBlock('cloneGroup111', 'expandBtn111', 'collapseBtn111')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup111"><code class="language-javascript text-sm text-gray-800">: 0,
      errors: [],
    };
  }

  /**
   * Get current error count
   */
  getCurrentErrorCount() {
    try {
      const output = execSync('node scripts/count-errors.cjs', { encoding: 'utf8' });
      const lines = output.trim().split('\n');
      return parseInt(lines[lines.length - 1]) || 0;
    } catch (error) {
      console.warn('Could not get current error count:', error.message);
      return 0;
    }
  }

  /**
   * Check if a function body contains await expressions
   */</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/async-function-cleaner.cjs (Line 107:26 - Line 122:6), C:/AI/food-truck-finder-poc/scripts/revert-boolean-fixer-damage.cjs (Line 106:2 - Line 121:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn112" onclick="toggleCodeBlock('cloneGroup112', 'expandBtn112', 'collapseBtn112')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn112" onclick="toggleCodeBlock('cloneGroup112', 'expandBtn112', 'collapseBtn112')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup112"><code class="language-javascript text-sm text-gray-800">);
        return true;
      } else {
        console.log(`⏭️  No changes: ${filePath}`);
        return false;
      }
    } catch (error) {
      this.stats.errors.push({ file: filePath, error: error.message });
      console.error(`❌ Error processing ${filePath}: ${error.message}`);
      return false;
    }
  }

  /**
   * Find TypeScript files
   */</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/async-function-cleaner.cjs (Line 123:3 - Line 137:2), C:/AI/food-truck-finder-poc/scripts/automated-nullish-coalescing-converter.cjs (Line 137:3 - Line 185:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn113" onclick="toggleCodeBlock('cloneGroup113', 'expandBtn113', 'collapseBtn113')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn113" onclick="toggleCodeBlock('cloneGroup113', 'expandBtn113', 'collapseBtn113')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup113"><code class="language-javascript text-sm text-gray-800">findTSFiles(directories = ['app', 'components', 'lib']) {
    const files = [];

    directories.forEach((dir) =&gt; {
      if (fs.existsSync(dir)) {
        const findFiles = (currentDir) =&gt; {
          const items = fs.readdirSync(currentDir);
          items.forEach((item) =&gt; {
            const fullPath = path.join(currentDir, item);
            const stat = fs.statSync(fullPath);

            if (stat.isDirectory() &amp;&amp; !item.startsWith('.')) {
              findFiles(fullPath);
            } else if (stat.isFile() &amp;&amp; (item.endsWith('.ts') || item.endsWith('.tsx'))) {
              files.push(fullPath.</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/async-function-cleaner.cjs (Line 171:4 - Line 184:7), C:/AI/food-truck-finder-poc/scripts/automated-nullish-coalescing-converter.cjs (Line 199:5 - Line 212:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn114" onclick="toggleCodeBlock('cloneGroup114', 'expandBtn114', 'collapseBtn114')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn114" onclick="toggleCodeBlock('cloneGroup114', 'expandBtn114', 'collapseBtn114')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup114"><code class="language-javascript text-sm text-gray-800">('');

    // Process files
    let filesChanged = 0;
    for (const file of filesToProcess) {
      console.log(`Processing: ${file}`);

      if (!dryRun) {
        const changed = this.processFile(file);
        if (changed) filesChanged++;
      } else {
        // Dry run - just analyze
        const content = fs.readFileSync(file, 'utf8');
        const result</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/async-function-cleaner.cjs (Line 205:21 - Line 224:21), C:/AI/food-truck-finder-poc/scripts/revert-boolean-fixer-damage.cjs (Line 192:13 - Line 211:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn115" onclick="toggleCodeBlock('cloneGroup115', 'expandBtn115', 'collapseBtn115')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn115" onclick="toggleCodeBlock('cloneGroup115', 'expandBtn115', 'collapseBtn115')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup115"><code class="language-javascript text-sm text-gray-800">}`);
    console.log(`Errors encountered: ${this.stats.errors.length}`);
    console.log('');
    console.log(`Initial errors: ${initialErrors}`);
    console.log(`Final errors: ${finalErrors}`);
    console.log(
      `Error reduction: ${errorReduction} (${((errorReduction / initialErrors) * 100).toFixed(1)}%)`,
    );

    if (this.stats.errors.length &gt; 0) {
      console.log('');
      console.log('❌ ERRORS:');
      this.stats.errors.forEach((err) =&gt; {
        console.log(`  ${err.file}: ${err.error}`);
      });
    }

    return {
      filesChanged,
      asyncKeywordsRemoved</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/async-function-cleaner.cjs (Line 224:21 - Line 243:8), C:/AI/food-truck-finder-poc/scripts/automated-nullish-coalescing-converter.cjs (Line 259:19 - Line 278:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn116" onclick="toggleCodeBlock('cloneGroup116', 'expandBtn116', 'collapseBtn116')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn116" onclick="toggleCodeBlock('cloneGroup116', 'expandBtn116', 'collapseBtn116')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup116"><code class="language-javascript text-sm text-gray-800">,
      errorReduction,
      success: this.stats.errors.length === 0,
    };
  }
}

// CLI interface
if (require.main === module) {
  const args = process.argv.slice(2);
  const options = {};

  // Parse command line arguments
  if (args.includes('--dry-run')) options.dryRun = true;
  if (args.includes('--max-files')) {
    const maxIndex = args.indexOf('--max-files');
    options.maxFiles = parseInt(args[maxIndex + 1]) || 10;
  }

  const cleaner</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/async-function-cleaner.cjs (Line 243:21 - Line 255:21), C:/AI/food-truck-finder-poc/scripts/automated-unused-code-cleaner.cjs (Line 290:18 - Line 232:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn117" onclick="toggleCodeBlock('cloneGroup117', 'expandBtn117', 'collapseBtn117')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn117" onclick="toggleCodeBlock('cloneGroup117', 'expandBtn117', 'collapseBtn117')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup117"><code class="language-javascript text-sm text-gray-800">();
  cleaner
    .run(options)
    .then((result) =&gt; {
      process.exit(result.success ? 0 : 1);
    })
    .catch((error) =&gt; {
      console.error('Fatal error:', error);
      process.exit(1);
    });
}

module.exports = AsyncFunctionCleaner</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/analyze-error-patterns.cjs (Line 42:17 - Line 62:3), C:/AI/food-truck-finder-poc/scripts/temp-analyze-errors.cjs (Line 25:50 - Line 45:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn118" onclick="toggleCodeBlock('cloneGroup118', 'expandBtn118', 'collapseBtn118')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn118" onclick="toggleCodeBlock('cloneGroup118', 'expandBtn118', 'collapseBtn118')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup118"><code class="language-javascript text-sm text-gray-800">, error.message);
      return [];
    }
  }

  /**
   * Analyze error patterns from ESLint results
   */
  analyzePatterns(results) {
    console.log('📊 Analyzing error patterns...');

    results.forEach((file) =&gt; {
      const fileName = file.filePath.replace(process.cwd(), '').replace(/\\/g, '/');
      let fileErrorCount = 0;

      file.messages.forEach((msg) =&gt; {
        if (msg.severity === 2) {
          // Error (not warning)
          const ruleId = msg.ruleId || 'unknown';
          this.errorCounts[ruleId] = (this.errorCounts[ruleId] || 0) + 1;
          if</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/analyze-error-patterns.cjs (Line 68:2 - Line 139:19), C:/AI/food-truck-finder-poc/scripts/temp-analyze-errors.cjs (Line 44:2 - Line 115:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn119" onclick="toggleCodeBlock('cloneGroup119', 'expandBtn119', 'collapseBtn119')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn119" onclick="toggleCodeBlock('cloneGroup119', 'expandBtn119', 'collapseBtn119')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup119"><code class="language-javascript text-sm text-gray-800">;
          fileErrorCount++;
        }
      });

      if (fileErrorCount &gt; 0) {
        this.fileErrorCounts[fileName] = fileErrorCount;
      }
    });
  }

  /**
   * Identify automation candidates based on frequency and safety
   */
  identifyAutomationCandidates() {
    console.log('🎯 Identifying automation candidates...');

    // Define automation-friendly rules
    const automationRules = {
      // High confidence - safe to automate
      '@typescript-eslint/no-unused-vars': {
        confidence: 'HIGH',
        method: 'eslint-autofix',
        description: 'Remove unused variables and imports',
        estimatedReduction: '90%',
      },
      'sonarjs/unused-import': {
        confidence: 'HIGH',
        method: 'eslint-autofix',
        description: 'Remove unused imports',
        estimatedReduction: '95%',
      },
      'unicorn/no-null': {
        confidence: 'HIGH',
        method: 'pattern-replacement',
        description: 'Replace null with undefined',
        estimatedReduction: '85%',
      },

      // Medium confidence - needs careful automation
      '@typescript-eslint/no-explicit-any': {
        confidence: 'MEDIUM',
        method: 'pattern-replacement',
        description: 'Replace any with unknown in safe contexts',
        estimatedReduction: '40%',
      },
      '@typescript-eslint/no-unsafe-assignment': {
        confidence: 'MEDIUM',
        method: 'type-annotation',
        description: 'Add type annotations for unsafe assignments',
        estimatedReduction: '30%',
      },
      'sonarjs/no-dead-store': {
        confidence: 'MEDIUM',
        method: 'pattern-replacement',
        description: 'Remove dead store assignments',
        estimatedReduction: '70%',
      },

      // Low confidence - manual review needed
      '@typescript-eslint/strict-boolean-expressions': {
        confidence: 'LOW',
        method: 'manual-review',
        description: 'Complex boolean expression fixes',
        estimatedReduction: '10%',
      },
      'max-lines-per-function': {
        confidence: 'MANUAL_ONLY',
        method: 'manual-ide-refactor',
        description:
          'RESEARCH-PROVEN UNSAFE FOR AUTOMATION: Function extraction requires human judgment. Use VS Code Extract Method only.',
        estimatedReduction</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/analyze-error-patterns.cjs (Line 139:5 - Line 315:20), C:/AI/food-truck-finder-poc/scripts/temp-analyze-errors.cjs (Line 114:119 - Line 290:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn120" onclick="toggleCodeBlock('cloneGroup120', 'expandBtn120', 'collapseBtn120')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn120" onclick="toggleCodeBlock('cloneGroup120', 'expandBtn120', 'collapseBtn120')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup120"><code class="language-javascript text-sm text-gray-800">,
        automationRisk: 'HIGH',
        researchEvidence: 'Academic studies show 47% failure rate, semantic errors common',
      },
    };

    // Calculate automation potential
    Object.entries(this.errorCounts).forEach(([ruleId, count]) =&gt; {
      if (automationRules[ruleId] &amp;&amp; count &gt;= 5) {
        // Only consider rules with 5+ occurrences
        const rule = automationRules[ruleId];
        const estimatedFixes = Math.floor(count * (parseInt(rule.estimatedReduction) / 100));

        this.automationCandidates.push({
          ruleId,
          count,
          confidence: rule.confidence,
          method: rule.method,
          description: rule.description,
          estimatedFixes,
          priority: this.calculatePriority(count, rule.confidence, estimatedFixes),
        });
      }
    });

    // Sort by priority (highest first)
    this.automationCandidates.sort((a, b) =&gt; b.priority - a.priority);
  }

  /**
   * Calculate automation priority score
   */
  calculatePriority(count, confidence, estimatedFixes) {
    const confidenceMultiplier = {
      HIGH: 3,
      MEDIUM: 2,
      LOW: 1,
    };

    return estimatedFixes * confidenceMultiplier[confidence];
  }

  /**
   * Generate automation recommendations
   */
  generateRecommendations() {
    console.log('💡 Generating automation recommendations...');

    const highConfidenceCandidates = this.automationCandidates.filter(
      (c) =&gt; c.confidence === 'HIGH',
    );
    const mediumConfidenceCandidates = this.automationCandidates.filter(
      (c) =&gt; c.confidence === 'MEDIUM',
    );

    const totalHighConfidenceFixes = highConfidenceCandidates.reduce(
      (sum, c) =&gt; sum + c.estimatedFixes,
      0,
    );
    const totalMediumConfidenceFixes = mediumConfidenceCandidates.reduce(
      (sum, c) =&gt; sum + c.estimatedFixes,
      0,
    );

    return {
      highConfidence: {
        candidates: highConfidenceCandidates,
        totalFixes: totalHighConfidenceFixes,
        methods: [...new Set(highConfidenceCandidates.map((c) =&gt; c.method))],
      },
      mediumConfidence: {
        candidates: mediumConfidenceCandidates,
        totalFixes: totalMediumConfidenceFixes,
        methods: [...new Set(mediumConfidenceCandidates.map((c) =&gt; c.method))],
      },
    };
  }

  /**
   * Print analysis results
   */
  printResults() {
    const totalErrors = Object.values(this.errorCounts).reduce((sum, count) =&gt; sum + count, 0);
    const sortedErrors = Object.entries(this.errorCounts).sort((a, b) =&gt; b[1] - a[1]);
    const recommendations = this.generateRecommendations();

    console.log('\n📈 ERROR PATTERN ANALYSIS RESULTS');
    console.log('=====================================');
    console.log(`Total errors: ${totalErrors}`);
    console.log(`Unique error types: ${Object.keys(this.errorCounts).length}`);
    console.log(`Files with errors: ${Object.keys(this.fileErrorCounts).length}`);

    console.log('\n🔝 TOP 15 ERROR TYPES:');
    console.log('----------------------');
    sortedErrors.slice(0, 15).forEach(([rule, count], index) =&gt; {
      const percentage = ((count / totalErrors) * 100).toFixed(1);
      console.log(`${index + 1}. ${rule}: ${count} (${percentage}%)`);
    });

    console.log('\n🎯 HIGH CONFIDENCE AUTOMATION CANDIDATES:');
    console.log('------------------------------------------');
    if (recommendations.highConfidence.candidates.length &gt; 0) {
      recommendations.highConfidence.candidates.forEach((candidate) =&gt; {
        console.log(
          `✅ ${candidate.ruleId}: ${candidate.count} errors → ~${candidate.estimatedFixes} fixes (${candidate.method})`,
        );
        console.log(`   ${candidate.description}`);
      });
      console.log(`\n🚀 TOTAL HIGH CONFIDENCE FIXES: ${recommendations.highConfidence.totalFixes}`);
    } else {
      console.log('No high confidence automation candidates found.');
    }

    console.log('\n⚠️  MEDIUM CONFIDENCE AUTOMATION CANDIDATES:');
    console.log('--------------------------------------------');
    if (recommendations.mediumConfidence.candidates.length &gt; 0) {
      recommendations.mediumConfidence.candidates.forEach((candidate) =&gt; {
        console.log(
          `🔶 ${candidate.ruleId}: ${candidate.count} errors → ~${candidate.estimatedFixes} fixes (${candidate.method})`,
        );
        console.log(`   ${candidate.description}`);
      });
      console.log(
        `\n⚡ TOTAL MEDIUM CONFIDENCE FIXES: ${recommendations.mediumConfidence.totalFixes}`,
      );
    } else {
      console.log('No medium confidence automation candidates found.');
    }

    const totalAutomationPotential =
      recommendations.highConfidence.totalFixes + recommendations.mediumConfidence.totalFixes;
    const automationPercentage = ((totalAutomationPotential / totalErrors) * 100).toFixed(1);

    console.log('\n📊 AUTOMATION SUMMARY:');
    console.log('----------------------');
    console.log(`Current errors: ${totalErrors}`);
    console.log(
      `Automation potential: ${totalAutomationPotential} fixes (${automationPercentage}%)`,
    );
    console.log(`Remaining manual work: ${totalErrors - totalAutomationPotential} errors`);

    console.log('\n🛠️  RECOMMENDED AUTOMATION METHODS:');
    console.log('-----------------------------------');
    const allMethods = [
      ...recommendations.highConfidence.methods,
      ...recommendations.mediumConfidence.methods,
    ];
    [...new Set(allMethods)].forEach((method) =&gt; {
      console.log(`• ${method}`);
    });

    return recommendations;
  }

  /**
   * Run the complete analysis
   */
  async run() {
    const results = this.getESLintResults();
    this.analyzePatterns(results);
    this.identifyAutomationCandidates();
    return this.printResults();
  }
}

// CLI interface
if (require.main === module) {
  const analyzer = new ErrorPatternAnalyzer();
  analyzer
    .run()
    .then((recommendations) =&gt; {
      // Save results for other scripts to use
      const output = {
        timestamp: new Date().toISOString(),
        totalErrors: Object.values(analyzer.errorCounts).reduce((sum, count) =&gt; sum + count, 0),
        errorCounts: analyzer.errorCounts,
        errorsByRuleAndFile</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/scripts/analyze-error-patterns.cjs (Line 315:20 - Line 331:2), C:/AI/food-truck-finder-poc/scripts/temp-analyze-errors.cjs (Line 289:12 - Line 305:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn121" onclick="toggleCodeBlock('cloneGroup121', 'expandBtn121', 'collapseBtn121')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn121" onclick="toggleCodeBlock('cloneGroup121', 'expandBtn121', 'collapseBtn121')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup121"><code class="language-javascript text-sm text-gray-800">,
        automationCandidates: analyzer.automationCandidates,
        recommendations,
      };

      fs.writeFileSync('error-analysis.json', JSON.stringify(output, null, 2));
      console.log('\n💾 Analysis saved to error-analysis.json');

      process.exit(0);
    })
    .catch((error) =&gt; {
      console.error('Analysis failed:', error);
      process.exit(1);
    });
}

module.exports = ErrorPatternAnalyzer;</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/ScraperEngine.js (Line 572:8 - Line 577:36), C:/AI/food-truck-finder-poc/lib/ScraperEngine.js (Line 539:8 - Line 544:32)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn126" onclick="toggleCodeBlock('cloneGroup126', 'expandBtn126', 'collapseBtn126')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn126" onclick="toggleCodeBlock('cloneGroup126', 'expandBtn126', 'collapseBtn126')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup126"><code class="language-javascript text-sm text-gray-800">;
            const response = await this.makeGeminiRequest(prompt);
            this.updateUsageCounters(1, prompt.length + response.length);
            const parsed = JSON.parse(response);
            if (parsed == undefined || typeof parsed !== 'object') {
                throw new Error('Invalid Gemini sentiment response'</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/gemini.js (Line 201:8 - Line 216:10), C:/AI/food-truck-finder-poc/lib/gemini.js (Line 186:7 - Line 201:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn127" onclick="toggleCodeBlock('cloneGroup127', 'expandBtn127', 'collapseBtn127')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn127" onclick="toggleCodeBlock('cloneGroup127', 'expandBtn127', 'collapseBtn127')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup127"><code class="language-javascript text-sm text-gray-800">: {
                            type: ['object', 'null'],
                            properties: {
                                open: {
                                    type: ['string', 'null']
                                },
                                close: {
                                    type: ['string', 'null']
                                },
                                closed: {
                                    type: 'boolean'
                                }
                            },
                            required: ['closed']
                        },
                        wednesday</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/gemini.js (Line 216:10 - Line 231:9), C:/AI/food-truck-finder-poc/lib/gemini.js (Line 186:7 - Line 201:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn128" onclick="toggleCodeBlock('cloneGroup128', 'expandBtn128', 'collapseBtn128')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn128" onclick="toggleCodeBlock('cloneGroup128', 'expandBtn128', 'collapseBtn128')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup128"><code class="language-javascript text-sm text-gray-800">: {
                            type: ['object', 'null'],
                            properties: {
                                open: {
                                    type: ['string', 'null']
                                },
                                close: {
                                    type: ['string', 'null']
                                },
                                closed: {
                                    type: 'boolean'
                                }
                            },
                            required: ['closed']
                        },
                        thursday</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/gemini.js (Line 231:9 - Line 246:7), C:/AI/food-truck-finder-poc/lib/gemini.js (Line 186:7 - Line 201:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn129" onclick="toggleCodeBlock('cloneGroup129', 'expandBtn129', 'collapseBtn129')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn129" onclick="toggleCodeBlock('cloneGroup129', 'expandBtn129', 'collapseBtn129')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup129"><code class="language-javascript text-sm text-gray-800">: {
                            type: ['object', 'null'],
                            properties: {
                                open: {
                                    type: ['string', 'null']
                                },
                                close: {
                                    type: ['string', 'null']
                                },
                                closed: {
                                    type: 'boolean'
                                }
                            },
                            required: ['closed']
                        },
                        friday</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/gemini.js (Line 246:7 - Line 261:9), C:/AI/food-truck-finder-poc/lib/gemini.js (Line 186:7 - Line 201:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn130" onclick="toggleCodeBlock('cloneGroup130', 'expandBtn130', 'collapseBtn130')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn130" onclick="toggleCodeBlock('cloneGroup130', 'expandBtn130', 'collapseBtn130')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup130"><code class="language-javascript text-sm text-gray-800">: {
                            type: ['object', 'null'],
                            properties: {
                                open: {
                                    type: ['string', 'null']
                                },
                                close: {
                                    type: ['string', 'null']
                                },
                                closed: {
                                    type: 'boolean'
                                }
                            },
                            required: ['closed']
                        },
                        saturday</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/gemini.js (Line 261:9 - Line 276:7), C:/AI/food-truck-finder-poc/lib/gemini.js (Line 186:7 - Line 201:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn131" onclick="toggleCodeBlock('cloneGroup131', 'expandBtn131', 'collapseBtn131')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn131" onclick="toggleCodeBlock('cloneGroup131', 'expandBtn131', 'collapseBtn131')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup131"><code class="language-javascript text-sm text-gray-800">: {
                            type: ['object', 'null'],
                            properties: {
                                open: {
                                    type: ['string', 'null']
                                },
                                close: {
                                    type: ['string', 'null']
                                },
                                closed: {
                                    type: 'boolean'
                                }
                            },
                            required: ['closed']
                        },
                        sunday</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/gemini.js (Line 276:7 - Line 291:2), C:/AI/food-truck-finder-poc/lib/gemini.js (Line 186:7 - Line 200:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn132" onclick="toggleCodeBlock('cloneGroup132', 'expandBtn132', 'collapseBtn132')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn132" onclick="toggleCodeBlock('cloneGroup132', 'expandBtn132', 'collapseBtn132')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup132"><code class="language-javascript text-sm text-gray-800">: {
                            type: ['object', 'null'],
                            properties: {
                                open: {
                                    type: ['string', 'null']
                                },
                                close: {
                                    type: ['string', 'null']
                                },
                                closed: {
                                    type: 'boolean'
                                }
                            },
                            required: ['closed']
                        }
                    }</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/firecrawl.js (Line 142:2 - Line 154:25), C:/AI/food-truck-finder-poc/lib/firecrawl.js (Line 77:2 - Line 89:26)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn135" onclick="toggleCodeBlock('cloneGroup135', 'expandBtn135', 'collapseBtn135')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn135" onclick="toggleCodeBlock('cloneGroup135', 'expandBtn135', 'collapseBtn135')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup135"><code class="language-javascript text-sm text-gray-800">,
                }),
            });
            const data = await response.json();
            if (!response.ok) {
                const errorData = data;
                throw new Error(errorData.error ?? `HTTP ${response.status}`);
            }
            this.setCacheResult(cacheKey, data);
            return data;
        }
        catch (error) {
            console.warn('Firecrawl crawl error:'</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/firecrawl.js (Line 184:2 - Line 195:26), C:/AI/food-truck-finder-poc/lib/firecrawl.js (Line 78:2 - Line 89:26)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn136" onclick="toggleCodeBlock('cloneGroup136', 'expandBtn136', 'collapseBtn136')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn136" onclick="toggleCodeBlock('cloneGroup136', 'expandBtn136', 'collapseBtn136')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup136"><code class="language-javascript text-sm text-gray-800">,
            });
            const data = await response.json();
            if (!response.ok) {
                const errorData = data;
                throw new Error(errorData.error ?? `HTTP ${response.status}`);
            }
            this.setCacheResult(cacheKey, data);
            return data;
        }
        catch (error) {
            console.warn('Firecrawl status error:'</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/discoveryEngine.js (Line 269:14 - Line 281:65), C:/AI/food-truck-finder-poc/lib/discoveryEngine.js (Line 206:13 - Line 218:56)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn140" onclick="toggleCodeBlock('cloneGroup140', 'expandBtn140', 'collapseBtn140')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn140" onclick="toggleCodeBlock('cloneGroup140', 'expandBtn140', 'collapseBtn140')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup140"><code class="language-javascript text-sm text-gray-800">) {
                if (typeof result === 'object' &amp;&amp; result !== null &amp;&amp; 'url' in result) {
                    const resultUrl = result.url;
                    if (resultUrl != undefined &amp;&amp;
                        typeof resultUrl === 'string' &amp;&amp;
                        (await this.isFoodTruckUrl(resultUrl))) {
                        discoveredUrls.add(resultUrl);
                    }
                }
            }
        }
    }
    // Helper method to store discovered URLs from discovery process</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/discoveryEngine.js (Line 503:2 - Line 509:8), C:/AI/food-truck-finder-poc/lib/discoveryEngine.js (Line 247:15 - Line 253:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn141" onclick="toggleCodeBlock('cloneGroup141', 'expandBtn141', 'collapseBtn141')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn141" onclick="toggleCodeBlock('cloneGroup141', 'expandBtn141', 'collapseBtn141')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup141"><code class="language-javascript text-sm text-gray-800">);
        }
        catch (error) {
            console.error(`❌ Location search failed for ${city}:`, error);
            results.errors.push(`Location search failed for ${city}: ${error instanceof Error ? error.message : 'Unknown error'}`);
        }
        console</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/discoveryEngine.js (Line 604:6 - Line 619:6), C:/AI/food-truck-finder-poc/lib/discoveryEngine.js (Line 300:2 - Line 327:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn142" onclick="toggleCodeBlock('cloneGroup142', 'expandBtn142', 'collapseBtn142')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn142" onclick="toggleCodeBlock('cloneGroup142', 'expandBtn142', 'collapseBtn142')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup142"><code class="language-javascript text-sm text-gray-800">,
                });
                if (stored.isNew === true) {
                    results.urls_stored += 1;
                }
                else {
                    results.urls_duplicates += 1;
                }
            }
            catch (error) {
                console.error(`❌ Failed to store URL ${url}:`, error);
                results.errors.push(`Failed to store URL ${url}: ${error instanceof Error ? error.message : 'Unknown error'}`);
            }
        }
    }
    delay</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/discoveryEngine.js (Line 780:2 - Line 824:2), C:/AI/food-truck-finder-poc/lib/pipeline/scrapingProcessor.js (Line 290:2 - Line 334:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn143" onclick="toggleCodeBlock('cloneGroup143', 'expandBtn143', 'collapseBtn143')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn143" onclick="toggleCodeBlock('cloneGroup143', 'expandBtn143', 'collapseBtn143')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup143"><code class="language-javascript text-sm text-gray-800">updateUrlQualityScore(url, result) {
        try {
            if (!supabaseAdmin) {
                return;
            }
            
            // Get current URL record
            const { data: urlRecord, error: fetchError } = await supabaseAdmin
                .from('discovered_urls')
                .select('processing_attempts, quality_score')
                .eq('url', url)
                .limit(1);
            
            if (fetchError || !urlRecord || urlRecord.length === 0) {
                return;
            }
            
            const current = urlRecord[0];
            const currentAttempts = current.processing_attempts || 0;
            const currentScore = current.quality_score || 0.5;
            
            // Update based on result
            let newScore, newAttempts;
            if (result === 'success') {
                newScore = Math.min(1, currentScore + 0.2); // Increase quality score on success
                newAttempts = currentAttempts;
            } else {
                newScore = Math.max(0, currentScore - 0.3); // Decrease quality score on failure
                newAttempts = currentAttempts + 1;
            }
            
            // Update the record
            await supabaseAdmin
                .from('discovered_urls')
                .update({ 
                    quality_score: newScore,
                    processing_attempts: newAttempts,
                    last_processed_at: new Date().toISOString()
                })
                .eq('url', url);
            
        } catch (error) {
            console.warn(`Could not update URL quality score for ${url}:`, error);
        }
    }</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/test-job-fetch.js (Line 3:1 - Line 19:13), C:/AI/food-truck-finder-poc/scripts/safe-convert-discovered-to-jobs.js (Line 8:1 - Line 23:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn146" onclick="toggleCodeBlock('cloneGroup146', 'expandBtn146', 'collapseBtn146')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn146" onclick="toggleCodeBlock('cloneGroup146', 'expandBtn146', 'collapseBtn146')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup146"><code class="language-javascript text-sm text-gray-800">import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

import { createClient } from '@supabase/supabase-js';

// Initialize Supabase with environment variables
const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials! Need both NEXT_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, serviceRoleKey);

async function testJobFetch</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/simplePipelineAnalysis.mjs (Line 16:49 - Line 46:8), C:/AI/food-truck-finder-poc/test-quality-control.js (Line 22:41 - Line 52:45)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn147" onclick="toggleCodeBlock('cloneGroup147', 'expandBtn147', 'collapseBtn147')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn147" onclick="toggleCodeBlock('cloneGroup147', 'expandBtn147', 'collapseBtn147')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup147"><code class="language-javascript text-sm text-gray-800">);
    
    // Test 1: Check URL quality filtering
    console.log('1. Testing URL quality filtering...');
    
    const testUrls = [
        // Should be filtered out (non-food truck URLs)
        'https://www.facebook.com/foodtruck',
        'https://www.instagram.com/foodtruck',
        'https://www.eventbrite.com/food-truck-festival',
        'https://www.cityofcharleston.org/calendar',
        'https://www.reddit.com/r/foodtrucks',
        
        // Should be processed (food truck URLs)
        'https://www.bestfoodtruck.com',
        'https://charlestonfoodtrucks.com',
        'https://www.roaminghunger.com/charleston-food-trucks',
        
        // Should be filtered out (obviously non-food truck)
        'https://www.charleston.gov/news',
        'https://www.charleston.gov/events/calendar',
        'https://www.meetup.com/charleston-foodies',
    ];
    
    for (const url of testUrls) {
        const isFoodTruckUrl = !discoveryEngine.isObviouslyNonFoodTruckUrl(url);
        const result = isFoodTruckUrl ? '✅ WILL PROCESS' : '⏭️  WILL SKIP';
        console.log(`   ${result} ${url}`);
    }
    
    console</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/get-scraping-jobs.js (Line 4:12 - Line 19:32), C:/AI/food-truck-finder-poc/get-truck-count.js (Line 3:9 - Line 18:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn148" onclick="toggleCodeBlock('cloneGroup148', 'expandBtn148', 'collapseBtn148')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn148" onclick="toggleCodeBlock('cloneGroup148', 'expandBtn148', 'collapseBtn148')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup148"><code class="language-javascript text-sm text-gray-800">;

// Load environment variables
dotenv.config({ path: '.env.local' });

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials! Need both URL and SERVICE_ROLE_KEY');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, serviceRoleKey);

// Parse command line arguments</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/eslint.config.mjs (Line 237:24 - Line 255:65), C:/AI/food-truck-finder-poc/eslint.config.mjs (Line 212:33 - Line 229:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn149" onclick="toggleCodeBlock('cloneGroup149', 'expandBtn149', 'collapseBtn149')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn149" onclick="toggleCodeBlock('cloneGroup149', 'expandBtn149', 'collapseBtn149')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup149"><code class="language-javascript text-sm text-gray-800">],
    rules: {
      '@typescript-eslint/no-unsafe-argument': 'off',
    },
  },

  {
    files: ['hooks/realtime/**/*.ts', 'hooks/realtime/**/*.tsx'],
    rules: {
      '@typescript-eslint/no-unsafe-assignment': 'off',
      '@typescript-eslint/no-unsafe-call': 'off',
      '@typescript-eslint/no-unsafe-member-access': 'off',
      '@typescript-eslint/no-unsafe-argument': 'off',
      '@typescript-eslint/no-unsafe-return': 'off',
      '@typescript-eslint/no-redundant-type-constituents': 'off',
    },
  },

  // 8. Prettier - must be last to override other formatting rules</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/debugUrlFiltering.js (Line 10:2 - Line 36:68), C:/AI/food-truck-finder-poc/lib/discoveryEngine.js (Line 724:5 - Line 750:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn150" onclick="toggleCodeBlock('cloneGroup150', 'expandBtn150', 'collapseBtn150')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn150" onclick="toggleCodeBlock('cloneGroup150', 'expandBtn150', 'collapseBtn150')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup150"><code class="language-javascript text-sm text-gray-800">isObviouslyNonFoodTruckUrl(url) {
    const nonFoodTruckPatterns = [
        /\/events?\//i,
        /\/festivals?\//i,
        /\/calendar/i,
        /\/blog/i,
        /\/news/i,
        /\/articles?\//i,
        /\/government/i,
        /\/city\.gov/i,
        /\/municipal/i,
        /\/reddit\.com/i,
        /\/facebook\.com/i,
        /\/instagram\.com/i,
        /\/twitter\.com/i,
        /\/linkedin\.com/i,
        /\/youtube\.com/i,
        /\/yelp\.com/i,
        /\/google\.com\/maps/i,
        /\/foursquare\.com/i,
        /\/tripadvisor\.com/i,
        /\/zomato\.com/i,
        /\/eventbrite\.com/i,
        /\/meetup\.com/i,
    ];
    
    // Also check for blacklist keywords like the discovery engine does</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/check-discovered-urls.js (Line 1:1 - Line 11:34), C:/AI/food-truck-finder-poc/get-truck-count.js (Line 2:1 - Line 12:69)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn151" onclick="toggleCodeBlock('cloneGroup151', 'expandBtn151', 'collapseBtn151')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn151" onclick="toggleCodeBlock('cloneGroup151', 'expandBtn151', 'collapseBtn151')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup151"><code class="language-javascript text-sm text-gray-800">import { createClient } from '@supabase/supabase-js';
import dotenv from 'dotenv';

// Load environment variables
dotenv.config({ path: '.env.local' });

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials!'</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/check-discovered-urls.js (Line 7:1 - Line 17:20), C:/AI/food-truck-finder-poc/scripts/merge-page-trucks.js (Line 13:1 - Line 23:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn152" onclick="toggleCodeBlock('cloneGroup152', 'expandBtn152', 'collapseBtn152')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn152" onclick="toggleCodeBlock('cloneGroup152', 'expandBtn152', 'collapseBtn152')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup152"><code class="language-javascript text-sm text-gray-800">const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials!');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, serviceRoleKey);

async function checkDiscoveredUrls</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/apply-rls-fix.js (Line 1:1 - Line 11:53), C:/AI/food-truck-finder-poc/execute-sql.js (Line 1:1 - Line 11:45)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn153" onclick="toggleCodeBlock('cloneGroup153', 'expandBtn153', 'collapseBtn153')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn153" onclick="toggleCodeBlock('cloneGroup153', 'expandBtn153', 'collapseBtn153')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup153"><code class="language-javascript text-sm text-gray-800">import { createClient } from '@supabase/supabase-js';
import { readFileSync } from 'fs';
import dotenv from 'dotenv';

// Load environment variables
dotenv.config({ path: '.env.local' });

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

console.log('🔧 Applying RLS policy fix to food_trucks table...'</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/apply-rls-fix.js (Line 11:53 - Line 28:12), C:/AI/food-truck-finder-poc/execute-sql.js (Line 11:45 - Line 28:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn154" onclick="toggleCodeBlock('cloneGroup154', 'expandBtn154', 'collapseBtn154')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn154" onclick="toggleCodeBlock('cloneGroup154', 'expandBtn154', 'collapseBtn154')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup154"><code class="language-javascript text-sm text-gray-800">);
console.log('📍 URL:', supabaseUrl);
console.log('🔑 Service key present:', !!serviceRoleKey);

if (!supabaseUrl || !serviceRoleKey) {
  console.error('❌ Missing Supabase credentials! Need both URL and SERVICE_ROLE_KEY');
  process.exit(1);
}

// Create client with service role key (has admin permissions)
const supabase = createClient(supabaseUrl, serviceRoleKey, {
  auth: {
    autoRefreshToken: false,
    persistSession: false
  }
});

async function applyRLSFix</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/analyzePipelineQuality.js (Line 13:1 - Line 58:30), C:/AI/food-truck-finder-poc/debugUrlFiltering.js (Line 10:1 - Line 55:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn155" onclick="toggleCodeBlock('cloneGroup155', 'expandBtn155', 'collapseBtn155')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn155" onclick="toggleCodeBlock('cloneGroup155', 'expandBtn155', 'collapseBtn155')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup155"><code class="language-javascript text-sm text-gray-800">function isObviouslyNonFoodTruckUrl(url) {
    const nonFoodTruckPatterns = [
        /\/events?\//i,
        /\/festivals?\//i,
        /\/calendar/i,
        /\/blog/i,
        /\/news/i,
        /\/articles?\//i,
        /\/government/i,
        /\/city\.gov/i,
        /\/municipal/i,
        /\/reddit\.com/i,
        /\/facebook\.com/i,
        /\/instagram\.com/i,
        /\/twitter\.com/i,
        /\/linkedin\.com/i,
        /\/youtube\.com/i,
        /\/yelp\.com/i,
        /\/google\.com\/maps/i,
        /\/foursquare\.com/i,
        /\/tripadvisor\.com/i,
        /\/zomato\.com/i,
        /\/eventbrite\.com/i,
        /\/meetup\.com/i,
    ];
    
    // Also check for blacklist keywords like the discovery engine does
    const blacklistKeywords = [
        'facebook.com',
        'instagram.com',
        'twitter.com',
        'linkedin.com',
        'youtube.com',
        'yelp.com',
        'google.com',
        'maps.google.com',
        'foursquare.com',
        'tripadvisor.com',
        'zomato.com',
        'eventbrite.com',
        'meetup.com',
    ];
    
    const urlLower = url.toLowerCase();
    
    // Check regex patterns first</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/analyze-pipeline-quality.js (Line 1:1 - Line 42:6), C:/AI/food-truck-finder-poc/analyzePipelineQuality.js (Line 1:1 - Line 754:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn156" onclick="toggleCodeBlock('cloneGroup156', 'expandBtn156', 'collapseBtn156')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn156" onclick="toggleCodeBlock('cloneGroup156', 'expandBtn156', 'collapseBtn156')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup156"><code class="language-javascript text-sm text-gray-800">#!/usr/bin/env node

/**
 * Analyze Pipeline Quality Control
 * 
 * This script analyzes the quality control improvements made to the food truck discovery pipeline.
 */

import dotenv from 'dotenv';
dotenv.config({ path: '.env.local' });

// Simple test of the core filtering logic without database dependencies
function isObviouslyNonFoodTruckUrl(url) {
    const nonFoodTruckPatterns = [
        /\/events?\//i,
        /\/festivals?\//i,
        /\/calendar/i,
        /\/blog/i,
        /\/news/i,
        /\/articles?\//i,
        /\/government/i,
        /\/city\.gov/i,
        /\/municipal/i,
        /\/reddit\.com/i,
        /\/facebook\.com/i,
        /\/instagram\.com/i,
        /\/twitter\.com/i,
        /\/linkedin\.com/i,
        /\/youtube\.com/i,
        /\/yelp\.com/i,
        /\/google\.com\/maps/i,
        /\/foursquare\.com/i,
        /\/tripadvisor\.com/i,
        /\/zomato\.com/i,
        /\/eventbrite\.com/i,
        /\/meetup\.com/i,
    ];
    
    return nonFoodTruckPatterns.some(pattern =&gt; pattern.test(url));
}

async</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/analyze-pipeline-quality.js (Line 39:4 - Line 68:15), C:/AI/food-truck-finder-poc/analyzePipelineQuality.js (Line 64:8 - Line 93:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn157" onclick="toggleCodeBlock('cloneGroup157', 'expandBtn157', 'collapseBtn157')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn157" onclick="toggleCodeBlock('cloneGroup157', 'expandBtn157', 'collapseBtn157')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup157"><code class="language-javascript text-sm text-gray-800">));
}

async function analyzePipelineQuality() {
    console.log('🧪 Analyzing Pipeline Quality Control...\n');
    
    // Test URL quality filtering
    console.log('1. Testing URL quality filtering...');
    
    const testUrls = [
        // Should be filtered out (non-food truck URLs)
        'https://www.facebook.com/foodtruck',
        'https://www.instagram.com/foodtruck',
        'https://www.eventbrite.com/food-truck-festival',
        'https://www.cityofcharleston.org/calendar',
        'https://www.reddit.com/r/foodtrucks',
        
        // Should be processed (food truck URLs)
        'https://www.bestfoodtruck.com',
        'https://charlestonfoodtrucks.com',
        'https://www.roaminghunger.com/charleston-food-trucks',
        
        // Should be filtered out (obviously non-food truck)
        'https://www.charleston.gov/news',
        'https://www.charleston.gov/events/calendar',
        'https://www.meetup.com/charleston-foodies',
    ];
    
    for (const url of testUrls) {
        const isFoodTruckUrl</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/analyze-pipeline-quality.js (Line 46:5 - Line 68:27), C:/AI/food-truck-finder-poc/test-quality-control.js (Line 25:5 - Line 47:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn158" onclick="toggleCodeBlock('cloneGroup158', 'expandBtn158', 'collapseBtn158')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn158" onclick="toggleCodeBlock('cloneGroup158', 'expandBtn158', 'collapseBtn158')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup158"><code class="language-javascript text-sm text-gray-800">console.log('1. Testing URL quality filtering...');
    
    const testUrls = [
        // Should be filtered out (non-food truck URLs)
        'https://www.facebook.com/foodtruck',
        'https://www.instagram.com/foodtruck',
        'https://www.eventbrite.com/food-truck-festival',
        'https://www.cityofcharleston.org/calendar',
        'https://www.reddit.com/r/foodtrucks',
        
        // Should be processed (food truck URLs)
        'https://www.bestfoodtruck.com',
        'https://charlestonfoodtrucks.com',
        'https://www.roaminghunger.com/charleston-food-trucks',
        
        // Should be filtered out (obviously non-food truck)
        'https://www.charleston.gov/news',
        'https://www.charleston.gov/events/calendar',
        'https://www.meetup.com/charleston-foodies',
    ];
    
    for (const url of testUrls) {
        const isFoodTruckUrl = !isObviouslyNonFoodTruckUrl</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/analyze-pipeline-quality.js (Line 69:16 - Line 105:2), C:/AI/food-truck-finder-poc/analyzePipelineQuality.js (Line 94:17 - Line 130:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn159" onclick="toggleCodeBlock('cloneGroup159', 'expandBtn159', 'collapseBtn159')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn159" onclick="toggleCodeBlock('cloneGroup159', 'expandBtn159', 'collapseBtn159')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup159"><code class="language-javascript text-sm text-gray-800">;
        console.log(`   ${result} ${url}`);
    }
    
    console.log('\n✅ Pipeline quality control analysis completed');
    
    console.log('\n📋 Summary of Quality Control Improvements:');
    console.log('   🚫 URL Quality Filtering:');
    console.log('      - Non-food truck URLs are properly filtered out');
    console.log('      - Social media and event sites are automatically skipped');
    console.log('      - Government and news sites are filtered');
    console.log('      - Resource waste is prevented');
    
    console.log('\n   📊 URL Quality Scoring:');
    console.log('      - Success increases quality score (+0.2)');
    console.log('      - Failure decreases quality score (-0.3)');
    console.log('      - Processing attempts are tracked');
    console.log('      - Blacklisting prevents repeated failures');
    
    console.log('\n   🎯 Pipeline Improvements:');
    console.log('      - &quot;Unknown Food Truck&quot; entries eliminated');
    console.log('      - Null/empty names are properly discarded');
    console.log('      - Pre-filtering prevents storing invalid URLs');
    console.log('      - The pipeline is more efficient and accurate');
    
    console.log('\n   📈 Impact:');
    console.log('      - Reduced database bloat');
    console.log('      - Lower API usage costs');
    console.log('      - Better data quality');
    console.log('      - More reliable scraping results');
}

// Run the analysis
analyzePipelineQuality().catch(error =&gt; {
    console.error('❌ Analysis failed:', error);
    process.exit(1);
});</code></pre></div><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="tsx-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">tsx</h2><div class="divide-y divide-gray-200 border-b-2"><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/components/admin/realtime/RealtimeStatusDisplay.tsx (Line 98:5 - Line 156:4), C:/AI/food-truck-finder-poc/components/admin/realtime/RealtimeStatusDisplay.tsx (Line 12:10 - Line 60:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn2" onclick="toggleCodeBlock('cloneGroup2', 'expandBtn2', 'collapseBtn2')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn2" onclick="toggleCodeBlock('cloneGroup2', 'expandBtn2', 'collapseBtn2')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup2"><code class="language-tsx text-sm text-gray-800">;
  readonly systemMetrics: StatusMetric[];
  readonly scrapingJobs:
    | {
        active: number;
        completed: number;
        failed: number;
        pending: number;
      }
    | undefined;
  readonly alerts: SystemAlert[];
  readonly showDetails: boolean;
  readonly onToggleDetails: () =&gt; void;
  readonly onAcknowledgeAlert: (alertId: string) =&gt; void;
  readonly recentEventsCount: number;
  readonly onClearEvents: () =&gt; void;
}

/**
 * Displays the realtime status of a connection with various metrics and controls.
 * @example
 * RealtimeStatusDisplay({
 *   isConnected: false,
 *   isConnecting: true,
 *   connectionError: &quot;Timeout&quot;,
 *   lastEventTime: 1638349200000,
 *   connect: () =&gt; {},
 *   disconnect: () =&gt; {},
 *   systemMetrics: {},
 *   scrapingJobs: [],
 *   alerts: [],
 *   showDetails: false,
 *   onToggleDetails: () =&gt; {},
 *   onAcknowledgeAlert: () =&gt; {},
 *   recentEventsCount: 5,
 *   onClearEvents: () =&gt; {}
 * })
 * &lt;div&gt;...&lt;/div&gt;
 * @param {Object} props - Props object containing configuration for the display.
 * @param {boolean} props.isConnected - Connection status, true if currently connected.
 * @param {boolean} props.isConnecting - Connection initiation status, true if attempting to connect.
 * @param {string} props.connectionError - Description of the last encountered connection error.
 * @param {number} props.lastEventTime - Unix timestamp of the last event occurrence.
 * @param {function} props.connect - Function to initiate a connection.
 * @param {function} props.disconnect - Function to terminate the connection.
 * @param {Object} props.systemMetrics - Metrics data related to the system.
 * @param {Array} props.scrapingJobs - List of ongoing or past scraping jobs.
 * @param {Array} props.alerts - Array of alerts that have been triggered.
 * @param {boolean} props.showDetails - Flag to show detailed status information.
 * @param {function} props.onToggleDetails - Callback function to toggle detailed view.
 * @param {function} props.onAcknowledgeAlert - Function to acknowledge a specific alert.
 * @param {number} props.recentEventsCount - Count of recent events to display.
 * @param {function} props.onClearEvents - Callback function to clear the list of events.
 * @returns {JSX.Element} React component rendering the realtime status card.
 * @description
 *   - Utilizes conditional styling to indicate connection status through border color.
 *   - Last event time is formatted and passed as a Date object.
 *   - Component structure comprises a header for status and a content section for metrics and actions.
 */</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/app/admin/events/page.tsx (Line 2:2 - Line 16:2), C:/AI/food-truck-finder-poc/app/admin/food-trucks/page.tsx (Line 2:2 - Line 16:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn6" onclick="toggleCodeBlock('cloneGroup6', 'expandBtn6', 'collapseBtn6')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn6" onclick="toggleCodeBlock('cloneGroup6', 'expandBtn6', 'collapseBtn6')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup6"><code class="language-tsx text-sm text-gray-800">} from '@/lib/supabase';

export const dynamic = 'force-dynamic';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from '@/components/ui/table';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { PlusCircle,</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/app/admin/events/page.tsx (Line 209:17 - Line 227:7), C:/AI/food-truck-finder-poc/app/admin/events/page.tsx (Line 145:2 - Line 163:29)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn7" onclick="toggleCodeBlock('cloneGroup7', 'expandBtn7', 'collapseBtn7')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn7" onclick="toggleCodeBlock('cloneGroup7', 'expandBtn7', 'collapseBtn7')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup7"><code class="language-tsx text-sm text-gray-800">&lt;/TableCell&gt;
                &lt;TableCell className=&quot;text-right&quot;&gt;
                  &lt;Button asChild&gt;
                    &lt;Link href={`/admin/schedules/${schedule.id}`}&gt;
                      &lt;Edit className=&quot;size-4&quot; /&gt;
                      &lt;span className=&quot;sr-only&quot;&gt;Edit&lt;/span&gt;
                    &lt;/Link&gt;
                  &lt;/Button&gt;
                &lt;/TableCell&gt;
              &lt;/TableRow&gt;
            ))}
          &lt;/TableBody&gt;
        &lt;/Table&gt;
      &lt;/CardContent&gt;
    &lt;/Card&gt;
  );
}

export</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/app/admin/data-quality/page.tsx (Line 2:9 - Line 16:5), C:/AI/food-truck-finder-poc/app/admin/food-trucks/page.tsx (Line 2:17 - Line 16:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn8" onclick="toggleCodeBlock('cloneGroup8', 'expandBtn8', 'collapseBtn8')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn8" onclick="toggleCodeBlock('cloneGroup8', 'expandBtn8', 'collapseBtn8')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup8"><code class="language-tsx text-sm text-gray-800">, type FoodTruck } from '@/lib/supabase';

export const dynamic = 'force-dynamic';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from '@/components/ui/table';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { Edit</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/app/admin/data-quality/page.tsx (Line 151:6 - Line 161:2), C:/AI/food-truck-finder-poc/app/admin/food-trucks/page.tsx (Line 107:4 - Line 116:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn9" onclick="toggleCodeBlock('cloneGroup9', 'expandBtn9', 'collapseBtn9')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn9" onclick="toggleCodeBlock('cloneGroup9', 'expandBtn9', 'collapseBtn9')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup9"><code class="language-tsx text-sm text-gray-800">&gt;
      &lt;/TableCell&gt;
      &lt;TableCell&gt;
        {truck.last_scraped_at == undefined
          ? 'N/A'
          : new Date(truck.last_scraped_at).toLocaleDateString()}
      &lt;/TableCell&gt;
      &lt;TableCell className=&quot;text-right&quot;&gt;
        &lt;Button asChild&gt;
          &lt;Link href={`/admin/food-trucks/${truck.id}`}&gt;
            &lt;</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/fallback/supabaseFallback.test.tsx (Line 72:77 - Line 80:42), C:/AI/food-truck-finder-poc/lib/fallback/supabaseFallback.test.tsx (Line 48:57 - Line 56:26)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn17" onclick="toggleCodeBlock('cloneGroup17', 'expandBtn17', 'collapseBtn17')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn17" onclick="toggleCodeBlock('cloneGroup17', 'expandBtn17', 'collapseBtn17')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup17"><code class="language-tsx text-sm text-gray-800">, async () =&gt; {
    // Mock the supabase client to simulate an error
    supabaseFallback.supabase.from = jest.fn().mockReturnValue({
      select: jest.fn().mockReturnValue({
        abortSignal: jest.fn().mockRejectedValue(new Error('Supabase error')),
      }),
    });

    // Pre-populate the cache with stale data</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/fallback/supabaseFallback.test.tsx (Line 84:5 - Line 91:8), C:/AI/food-truck-finder-poc/lib/fallback/supabaseFallback.test.tsx (Line 60:2 - Line 67:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn18" onclick="toggleCodeBlock('cloneGroup18', 'expandBtn18', 'collapseBtn18')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn18" onclick="toggleCodeBlock('cloneGroup18', 'expandBtn18', 'collapseBtn18')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup18"><code class="language-tsx text-sm text-gray-800">).toLocaleString(),
    };
    window.localStorage.setItem('food-trucks-cache', JSON.stringify(cachedData));

    render(&lt;TestComponent /&gt;);

    await waitFor(() =&gt; {
      expect(screen.getByTestId('status')).toHaveTextContent('stale'</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/fallback/supabaseFallback.test.tsx (Line 96:83 - Line 104:9), C:/AI/food-truck-finder-poc/lib/fallback/supabaseFallback.test.tsx (Line 48:57 - Line 56:26)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn19" onclick="toggleCodeBlock('cloneGroup19', 'expandBtn19', 'collapseBtn19')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn19" onclick="toggleCodeBlock('cloneGroup19', 'expandBtn19', 'collapseBtn19')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup19"><code class="language-tsx text-sm text-gray-800">, async () =&gt; {
    // Mock the supabase client to simulate an error
    supabaseFallback.supabase.from = jest.fn().mockReturnValue({
      select: jest.fn().mockReturnValue({
        abortSignal: jest.fn().mockRejectedValue(new Error('Supabase error')),
      }),
    });

    function</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/lib/fallback/supabaseFallback.test.tsx (Line 104:25 - Line 110:7), C:/AI/food-truck-finder-poc/lib/fallback/supabaseFallback.test.tsx (Line 19:14 - Line 25:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn20" onclick="toggleCodeBlock('cloneGroup20', 'expandBtn20', 'collapseBtn20')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn20" onclick="toggleCodeBlock('cloneGroup20', 'expandBtn20', 'collapseBtn20')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup20"><code class="language-tsx text-sm text-gray-800">() {
      const { trucks, loading, dataStatus } = useFoodTrucks();
      if (loading) return &lt;div&gt;Loading...&lt;/div&gt;;
      return (
        &lt;div&gt;
          &lt;div data-testid=&quot;status&quot;&gt;{dataStatus.status}&lt;/div&gt;
          {trucks.length</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/components/monitoring/FeatureList.tsx (Line 31:17 - Line 38:6), C:/AI/food-truck-finder-poc/app/admin/data-cleanup/page.tsx (Line 154:2 - Line 161:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn28" onclick="toggleCodeBlock('cloneGroup28', 'expandBtn28', 'collapseBtn28')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn28" onclick="toggleCodeBlock('cloneGroup28', 'expandBtn28', 'collapseBtn28')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup28"><code class="language-tsx text-sm text-gray-800">) {
  return (
    &lt;div className=&quot;space-y-3&quot;&gt;
      &lt;h4 className=&quot;font-semibold text-sm&quot;&gt;{title}&lt;/h4&gt;
      &lt;ul className=&quot;space-y-2 text-sm text-muted-foreground&quot;&gt;
        {items.map((item, index) =&gt; (
          &lt;li key={index} className=&quot;flex items-center gap-2&quot;&gt;
            {React</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/components/map/MapComponent.tsx (Line 32:2 - Line 40:2), C:/AI/food-truck-finder-poc/components/map/MapViewUpdater.tsx (Line 10:2 - Line 18:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn29" onclick="toggleCodeBlock('cloneGroup29', 'expandBtn29', 'collapseBtn29')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn29" onclick="toggleCodeBlock('cloneGroup29', 'expandBtn29', 'collapseBtn29')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup29"><code class="language-tsx text-sm text-gray-800">{
  const map = useMap();
  useEffect(() =&gt; {
    if (center) {
      map.flyTo(center, zoom ?? map.getZoom());
    }
  }, [center, zoom, map]);
  return &lt;&gt;&lt;/&gt;;
}</code></pre></div><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/components/map/MapComponent.tsx (Line 177:2 - Line 188:3), C:/AI/food-truck-finder-poc/components/map/TruckMarkers.tsx (Line 55:14 - Line 66:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn30" onclick="toggleCodeBlock('cloneGroup30', 'expandBtn30', 'collapseBtn30')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn30" onclick="toggleCodeBlock('cloneGroup30', 'expandBtn30', 'collapseBtn30')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup30"><code class="language-tsx text-sm text-gray-800">}
            eventHandlers={{
              click: () =&gt; {
                if (onSelectTruck) {
                  onSelectTruck(truck.id);
                }
              },
            }}
          &gt;
            &lt;Popup&gt;
              &lt;h4 className=&quot;font-bold&quot;&gt;{truck.name}&lt;/h4&gt;
              {truck.current_location.address &amp;&amp;</code></pre></div><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="css-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">css</h2><div class="divide-y divide-gray-200 border-b-2"><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="json-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">json</h2><div class="divide-y divide-gray-200 border-b-2"><div class="py-4"><p class="text-gray-600">C:/AI/food-truck-finder-poc/jscpd-report.json/jscpd-report.json (Line 1:1 - Line 228:2), C:/AI/food-truck-finder-poc/jscpd-report.json/html/jscpd-report.json (Line 1:1 - Line 227:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn145" onclick="toggleCodeBlock('cloneGroup145', 'expandBtn145', 'collapseBtn145')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn145" onclick="toggleCodeBlock('cloneGroup145', 'expandBtn145', 'collapseBtn145')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup145"><code class="language-json text-sm text-gray-800">{
  &quot;statistics&quot;: {
    &quot;detectionDate&quot;: &quot;2025-08-02T22:24:09.116Z&quot;,
    &quot;formats&quot;: {
      &quot;json&quot;: {
        &quot;sources&quot;: {
          &quot;C:/AI/food-truck-finder-poc/.vscode/settings.json&quot;: {
            &quot;lines&quot;: 23,
            &quot;tokens&quot;: 98,
            &quot;sources&quot;: 1,
            &quot;clones&quot;: 0,
            &quot;duplicatedLines&quot;: 0,
            &quot;duplicatedTokens&quot;: 0,
            &quot;percentage&quot;: 0,
            &quot;percentageTokens&quot;: 0,
            &quot;newDuplicatedLines&quot;: 0,
            &quot;newClones&quot;: 0
          },
          &quot;C:/AI/food-truck-finder-poc/.vscode/extensions.json&quot;: {
            &quot;lines&quot;: 4,
            &quot;tokens&quot;: 14,
            &quot;sources&quot;: 1,
            &quot;clones&quot;: 0,
            &quot;duplicatedLines&quot;: 0,
            &quot;duplicatedTokens&quot;: 0,
            &quot;percentage&quot;: 0,
            &quot;percentageTokens&quot;: 0,
            &quot;newDuplicatedLines&quot;: 0,
            &quot;newClones&quot;: 0
          },
          &quot;C:/AI/food-truck-finder-poc/vercel.json&quot;: {
            &quot;lines&quot;: 11,
            &quot;tokens&quot;: 50,
            &quot;sources&quot;: 1,
            &quot;clones&quot;: 0,
            &quot;duplicatedLines&quot;: 0,
            &quot;duplicatedTokens&quot;: 0,
            &quot;percentage&quot;: 0,
            &quot;percentageTokens&quot;: 0,
            &quot;newDuplicatedLines&quot;: 0,
            &quot;newClones&quot;: 0
          },
          &quot;C:/AI/food-truck-finder-poc/tsconfig.node.json&quot;: {
            &quot;lines&quot;: 11,
            &quot;tokens&quot;: 71,
            &quot;sources&quot;: 1,
            &quot;clones&quot;: 0,
            &quot;duplicatedLines&quot;: 0,
            &quot;duplicatedTokens&quot;: 0,
            &quot;percentage&quot;: 0,
            &quot;percentageTokens&quot;: 0,
            &quot;newDuplicatedLines&quot;: 0,
            &quot;newClones&quot;: 0
          },
          &quot;C:/AI/food-truck-finder-poc/tsconfig.lib.json&quot;: {
            &quot;lines&quot;: 19,
            &quot;tokens&quot;: 101,
            &quot;sources&quot;: 1,
            &quot;clones&quot;: 0,
            &quot;duplicatedLines&quot;: 0,
            &quot;duplicatedTokens&quot;: 0,
            &quot;percentage&quot;: 0,
            &quot;percentageTokens&quot;: 0,
            &quot;newDuplicatedLines&quot;: 0,
            &quot;newClones&quot;: 0
          },
          &quot;C:/AI/food-truck-finder-poc/tsconfig.json&quot;: {
            &quot;lines&quot;: 24,
            &quot;tokens&quot;: 184,
            &quot;sources&quot;: 1,
            &quot;clones&quot;: 0,
            &quot;duplicatedLines&quot;: 0,
            &quot;duplicatedTokens&quot;: 0,
            &quot;percentage&quot;: 0,
            &quot;percentageTokens&quot;: 0,
            &quot;newDuplicatedLines&quot;: 0,
            &quot;newClones&quot;: 0
          },
          &quot;C:/AI/food-truck-finder-poc/tsconfig.fix-imports.json&quot;: {
            &quot;lines&quot;: 21,
            &quot;tokens&quot;: 130,
            &quot;sources&quot;: 1,
            &quot;clones&quot;: 0,
            &quot;duplicatedLines&quot;: 0,
            &quot;duplicatedTokens&quot;: 0,
            &quot;percentage&quot;: 0,
            &quot;percentageTokens&quot;: 0,
            &quot;newDuplicatedLines&quot;: 0,
            &quot;newClones&quot;: 0
          },
          &quot;C:/AI/food-truck-finder-poc/tsconfig.base.json&quot;: {
            &quot;lines&quot;: 25,
            &quot;tokens&quot;: 158,
            &quot;sources&quot;: 1,
            &quot;clones&quot;: 0,
            &quot;duplicatedLines&quot;: 0,
            &quot;duplicatedTokens&quot;: 0,
            &quot;percentage&quot;: 0,
            &quot;percentageTokens&quot;: 0,
            &quot;newDuplicatedLines&quot;: 0,
            &quot;newClones&quot;: 0
          },
          &quot;C:/AI/food-truck-finder-poc/tsconfig.action.json&quot;: {
            &quot;lines&quot;: 13,
            &quot;tokens&quot;: 90,
            &quot;sources&quot;: 1,
            &quot;clones&quot;: 0,
            &quot;duplicatedLines&quot;: 0,
            &quot;duplicatedTokens&quot;: 0,
            &quot;percentage&quot;: 0,
            &quot;percentageTokens&quot;: 0,
            &quot;newDuplicatedLines&quot;: 0,
            &quot;newClones&quot;: 0
          },
          &quot;C:/AI/food-truck-finder-poc/package.json&quot;: {
            &quot;lines&quot;: 201,
            &quot;tokens&quot;: 1386,
            &quot;sources&quot;: 1,
            &quot;clones&quot;: 0,
            &quot;duplicatedLines&quot;: 0,
            &quot;duplicatedTokens&quot;: 0,
            &quot;percentage&quot;: 0,
            &quot;percentageTokens&quot;: 0,
            &quot;newDuplicatedLines&quot;: 0,
            &quot;newClones&quot;: 0
          },
          &quot;C:/AI/food-truck-finder-poc/error-analysis.json&quot;: {
            &quot;lines&quot;: 18,
            &quot;tokens&quot;: 112,
            &quot;sources&quot;: 1,
            &quot;clones&quot;: 0,
            &quot;duplicatedLines&quot;: 0,
            &quot;duplicatedTokens&quot;: 0,
            &quot;percentage&quot;: 0,
            &quot;percentageTokens&quot;: 0,
            &quot;newDuplicatedLines&quot;: 0,
            &quot;newClones&quot;: 0
          },
          &quot;C:/AI/food-truck-finder-poc/components.json&quot;: {
            &quot;lines&quot;: 20,
            &quot;tokens&quot;: 144,
            &quot;sources&quot;: 1,
            &quot;clones&quot;: 0,
            &quot;duplicatedLines&quot;: 0,
            &quot;duplicatedTokens&quot;: 0,
            &quot;percentage&quot;: 0,
            &quot;percentageTokens&quot;: 0,
            &quot;newDuplicatedLines&quot;: 0,
            &quot;newClones&quot;: 0
          },
          &quot;C:/AI/food-truck-finder-poc/.jscpd.json&quot;: {
            &quot;lines&quot;: 29,
            &quot;tokens&quot;: 169,
            &quot;sources&quot;: 1,
            &quot;clones&quot;: 0,
            &quot;duplicatedLines&quot;: 0,
            &quot;duplicatedTokens&quot;: 0,
            &quot;percentage&quot;: 0,
            &quot;percentageTokens&quot;: 0,
            &quot;newDuplicatedLines&quot;: 0,
            &quot;newClones&quot;: 0
          },
          &quot;C:/AI/food-truck-finder-poc/.jscpd-github-actions.json&quot;: {
            &quot;lines&quot;: 27,
            &quot;tokens&quot;: 167,
            &quot;sources&quot;: 1,
            &quot;clones&quot;: 0,
            &quot;duplicatedLines&quot;: 0,
            &quot;duplicatedTokens&quot;: 0,
            &quot;percentage&quot;: 0,
            &quot;percentageTokens&quot;: 0,
            &quot;newDuplicatedLines&quot;: 0,
            &quot;newClones&quot;: 0
          },
          &quot;C:/AI/food-truck-finder-poc/.current-metrics.json&quot;: {
            &quot;lines&quot;: 6,
            &quot;tokens&quot;: 36,
            &quot;sources&quot;: 1,
            &quot;clones&quot;: 0,
            &quot;duplicatedLines&quot;: 0,
            &quot;duplicatedTokens&quot;: 0,
            &quot;percentage&quot;: 0,
            &quot;percentageTokens&quot;: 0,
            &quot;newDuplicatedLines&quot;: 0,
            &quot;newClones&quot;: 0
          },
          &quot;C:/AI/food-truck-finder-poc/.cocomo-metrics.json&quot;: {
            &quot;lines&quot;: 55,
            &quot;tokens&quot;: 394,
            &quot;sources&quot;: 1,
            &quot;clones&quot;: 0,
            &quot;duplicatedLines&quot;: 0,
            &quot;duplicatedTokens&quot;: 0,
            &quot;percentage&quot;: 0,
            &quot;percentageTokens&quot;: 0,
            &quot;newDuplicatedLines&quot;: 0,
            &quot;newClones&quot;: 0
          }
        },
        &quot;total&quot;: {
          &quot;lines&quot;: 507,
          &quot;tokens&quot;: 3304,
          &quot;sources&quot;: 16,
          &quot;clones&quot;: 0,
          &quot;duplicatedLines&quot;: 0,
          &quot;duplicatedTokens&quot;: 0,
          &quot;percentage&quot;: 0,
          &quot;percentageTokens&quot;: 0,
          &quot;newDuplicatedLines&quot;: 0,
          &quot;newClones&quot;: 0
        }
      }
    },
    &quot;total&quot;: {
      &quot;lines&quot;: 507,
      &quot;tokens&quot;: 3304,
      &quot;sources&quot;: 16,
      &quot;clones&quot;: 0,
      &quot;duplicatedLines&quot;: 0,
      &quot;duplicatedTokens&quot;: 0,
      &quot;percentage&quot;: 0,
      &quot;percentageTokens&quot;: 0,
      &quot;newDuplicatedLines&quot;: 0,
      &quot;newClones&quot;: 0
    }
  },
  &quot;duplicates&quot;: []
}</code></pre></div><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="bash-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">bash</h2><div class="divide-y divide-gray-200 border-b-2"><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="markup-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">markup</h2><div class="divide-y divide-gray-200 border-b-2"><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="powershell-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">powershell</h2><div class="divide-y divide-gray-200 border-b-2"><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="sql-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">sql</h2><div class="divide-y divide-gray-200 border-b-2"><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="markdown-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">markdown</h2><div class="divide-y divide-gray-200 border-b-2"><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div></section><!-- Add more sections for other formats and clone groups as needed--></main><footer class="bg-white shadow mt-8 py-4"><div class="container mx-auto px-4 text-center"><p class="text-sm text-gray-600">This report is generated by jscpd, an open-source copy/paste detector.</p><p class="text-sm text-gray-600">jscpd is licensed under the MIT License.</p><a class="text-blue-500 text-sm" href="https://github.com/kucherenko/jscpd" target="_blank" rel="noopener noreferrer">View jscpd on GitHub</a></div></footer><script src="js/prism.js"></script><script>function toggleCodeBlock(codeBlockId, expandBtnId, collapseBtnId) {
  const codeBlock = document.getElementById(codeBlockId);
  const expandBtn = document.getElementById(expandBtnId);
  const collapseBtn = document.getElementById(collapseBtnId);

  codeBlock.classList.toggle('hidden');
  expandBtn.classList.toggle('hidden');
  collapseBtn.classList.toggle('hidden');
}</script></body></html>